/*
 Justified Image Grid - Aligns your images into a Flickr / Google+ style thumbnail-grid gallery
 v3.8

 Copyright (c) 2012-2017 Firsh, http://www.justifiedgrid.com/
*/
function loadJustifiedImageGrid(d){d.justifiedImageGrid=function(n,x){function q(a,c){return"hasOwnProperty"in a?a.hasOwnProperty(c):Object.prototype.hasOwnProperty.call(a,c)}function m(b,c){b=v(b);if("below"==a.caption)return b;c=(((c||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return b.replace(/\x3c!--[\s\S]*?--\x3e|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,b){return-1<c.indexOf("<"+b.toLowerCase()+">")?a:""})}function v(a,c){if(void 0===
a)return"";var b=0,f=!1;"undefined"===typeof c&&(c=2);a=a.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var d={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};0===c&&(f=!0);if("number"!==typeof c){c=[].concat(c);for(var k=0,l=c.length;k<l;k+=1)0===d[c[k]]?f=!0:d[c[k]]&&(b|=d[c[k]]);c=b}c&d.ENT_HTML_QUOTE_SINGLE&&(a=a.replace(/&#0*39;/g,"'"));f||(a=a.replace(/&quot;/g,'"'));return a=a.replace(/&amp;/g,"&")}function y(b){"undefined"!==typeof b&&
b.stopPropagation();b=a.element.find(".jig-overflow > a.jig-loaded").length;var c=a.element.find(".jig-imageContainer .jig-overflow > a").length;"no"==a.errorChecking&&(c-=5);"undefined"!==typeof a.loadCheckTimeout&&clearTimeout(a.loadCheckTimeout);b<c?(a.loadCheckTimeout=setTimeout(function(){y()},500),a.loadMoreButton.animate({opacity:.5},300,"JIGswing")):(a.loadMoreButton.animate({opacity:1},300,"JIGswing"),a.limit+=a.originalLimit,a.loadMoreCounter++,"once"==a.loadMore&&(a.limit=a.allItems.length),
t.createGallery())}var h={targetHeight:190,heightDeviation:40,aspectRatio:"",disableCropping:"",randomizeWidth:"",margins:4,animSpeed:300,limit:0,initiallyLoad:"",maxRows:"",linkClass:"",linkRel:"jig[*instance*]",linkAttributeName:"",linkAttributeValue:"",linkAttribute:"",linkTitleField:"description",imgAltField:"title",wrapText:"no",readingDirection:"ltr",loadMore:"off",loadMoreText:"Load more",loadMoreCountText:"(*count* images remaining)",loadMoreOffset:100,loadMoreAutoWidth:"on",disableHover:"no",
downloadLink:"no",lightboxLink:"no",verticalCenterCaptions:"off",customFonts:"yes",captionHeight:54,quality:90,retinaReady:"yes",retinaQuality:"auto",minRetinaQuality:30,maxRetinaDensity:3,caption:"fade",captionMatchWidth:"no",captionMatchWidthForceNo:!1,titleField:"title",captionField:"description",lightbox:"prettyphoto",lightboxInit:"jigAddLightbox1",overlay:"hovered",overlayIcon:"off",bordersTotal:0,innerBorder:"always",innerBorderWidth:0,innerBorderAnimate:"width",middleBorder:"always",middleBorderWidth:0,
middleBorderColor:"white",outerBorder:"always",outerBorderColor:"black",specialFx:"off",specialFxType:"desaturate",specialFxOptions:"",specialFxBlend:1,incompleteLastRow:"normal",errorChecking:"yes",retryCount:0,resizeCount:0,errorChecked:!1,errorImages:[],filters:!1,filterMultiple:"no",filterStyle:"buttons",L2filters:!1,L2FilterMultiple:"no",L2FilterStyle:"buttons",filterSmallestColor:"#A3A3A3",filterSmallestSize:11,filterLargestColor:"#000000",filterLargestSize:22,separatorCharacter:" - ",thumbnailFilename:"normal",
cropZone:"",instance:1,element:d(n),lastWindowWidth:d(window).width()},t=this,a=d.extend({},h,x),J="opacity"in d.support&&!d.support.opacity,K="",M=!!window.chrome&&!/opera|opr/i.test(navigator.userAgent);this.s=a;try{K=0<window.navigator.userAgent.indexOf("MSIE ")||!!navigator.userAgent.match(/Trident.*rv\:11\./),"Netscape"==navigator.appName&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge")&&(K=!0)}catch(b){K=!1}thisIsTouch=!1;"ontouchstart"in document.documentElement&&
(thisIsTouch=!0);t.init=function(){a.originalTargetHeight=a.targetHeight;a.minHeight=a.originalMinHeight=a.targetHeight-a.heightDeviation;a.maxHeight=a.originalMaxHeight=a.targetHeight+a.heightDeviation;a.prevScreenHeightLimitRatio=-1;a.defaultHeightRatio=a.originalDefaultHeightRatio=a.targetHeight/a.maxHeight;a.originalLimit=a.limit;a.hiddenOpacity=J?.01:0;K&&a.element.addClass("jig-ua-ie");J&&a.element.addClass("jig-ua-old-ie");!1===thisIsTouch?a.element.addClass("jig-no-touch"):a.element.addClass("jig-touch");
if("no"!==a.lightbox&&"links-off"!==a.lightbox&&"new_tab"!==a.lightbox)if(a.hiddenLinkClass=""!==a.linkClass?'class="jig-link jig-hiddenLink '+a.linkClass+'" ':'class="jig-link jig-hiddenLink" ',a.linkClass=""!==a.linkClass?'class="jig-link '+a.linkClass+'" ':'class="jig-link" ',-1!==a.linkRel.indexOf("*instance*"))a.linkRel='rel="'+a.linkRel.replace("*instance*",a.instance)+'" ';else if(-1!==a.linkRel.indexOf("auto"))switch(a.lightbox){case "prettyphoto":a.linkRel='rel="'+a.linkRel.replace("auto",
"prettyPhoto["+a.instance+"]")+'" ';break;case "colorbox":a.linkRel='rel="'+a.linkRel.replace("auto","colorBox["+a.instance+"]")+'" ';break;default:a.linkRel='rel="'+a.linkRel.replace("auto","gallery["+a.instance+"]")+'" '}else a.linkRel='rel="'+a.linkRel+'" ';else a.linkClass="",a.hiddenLinkClass="",a.linkRel="";""!==a.linkAttributeName&&(a.linkAttribute=""!==a.linkAttributeValue?" "+a.linkAttributeName+'="'+a.linkAttributeValue+'"':" "+a.linkAttributeName+'=""');a.allItems=a.selectedItems=a.items.slice();
a.aspectRatio&&(a.maxWidth=Math.floor(a.maxHeight*parseFloat(a.aspectRatio)),"normal"==a.incompleteLastRow&&(a.incompleteLastRow="match","off"!==a.loadMore&&(a.incompleteLastRow="flexible-match")));"yes"==a.retinaReady&&("undefined"===typeof window.devicePixelRatio||1==window.devicePixelRatio?(a.retinaReady="no",a.devicePixelRatio=1):a.devicePixelRatio=window.devicePixelRatio>a.maxRetinaDensity?a.maxRetinaDensity:window.devicePixelRatio);"yes"==a.retinaReady&&("auto"==a.retinaQuality?(a.quality=Math.ceil(a.quality/
a.devicePixelRatio),a.quality=a.quality>a.minRetinaQuality?a.quality:a.minRetinaQuality):a.quality=a.retinaQuality);"yes"==a.disableCropping&&(a.minHeight=a.originalMinHeight=50);"captions"==a.specialFx&&"below"==a.caption&&(a.specialFx="off");if("yes"==a.customFonts&&"off"!==a.caption&&("below"==a.caption||"off"!==a.verticalCenterCaptions||"captions"==a.specialFx)){var b=d("body").find(".jig-fontCheck");if(0===b.length){d("body").append('<div class="jig-fontCheck">!"\'\\#$%&amp;()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_abcdefghijklmnopqrstuvwxyz{|}~ A quick brown fox jumps over the lazy dog.</div>');
var b=d("body").find(".jig-fontCheck"),c=b.width(),e=0,f=setInterval(function(){e++;var a=b.width();c==a||0===a?50<e&&(b.remove(),clearInterval(f)):(d("body").trigger("jig-fontLoaded"),b.remove(),clearInterval(f))},100)}}var g=function(){return!1},k=g,l=g,u=g,h=g,B=g,p=g,n=g,m=g,v=g,z=g,A=g,M=g,w=function(b,c,e,f){if("captions"!==a.specialFx||".jig-caption-wrapper .jig-caption"!==c)b.find(c).JIGhoverFlow(e,{opacity:f},a.animSpeed);else{b=b.find(c);var L=N(b,!0);b.JIGhoverFlow(e,{opacity:f},{duration:a.animSpeed,
progress:function(){0!==d(this).closest(".jig-cw-role-real").length&&O(L)}})}},x=function(b,c,e,f){if("captions"!==a.specialFx)b.find(c).JIGhoverFlow(e,{height:f},a.animSpeed,"JIGeaseInOutQuad");else{b=b.find(c);var L=N(b);b.JIGhoverFlow(e,{height:f},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){0!==d(this).closest(".jig-cw-role-real").length&&O(L)}})}},F=function(b,c,e,f){if("captions"!==a.specialFx)b.find(c).JIGhoverFlow(e,{height:f},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",
progress:function(){var a=b.find(".jig-caption-wrapper"),c=b.parent();a.css("top",Math.round(c.height()/2-a.height()/2))}});else{var L=b.find(c),g=N(L),k=L.closest(".jig-caption");b.find(c).JIGhoverFlow(e,{height:f},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var a=b.find(".jig-caption-wrapper"),c=b.parent();a.css("top",Math.round(c.height()/2-k.height()/2));0!==d(this).closest(".jig-cw-role-real").length&&O(g)},complete:function(){"slide"!=a.caption&&"reverse-slide"!=a.caption||
"hide"!=f||b.find(".jig-cw-role-effect").height(.01)}})}},G=function(b,c,e,f){b.find(c).JIGhoverFlow(e,{opacity:f},a.animSpeed)},E=function(b,c,e,f){b.find(c).JIGhoverFlow(e,{borderLeftWidth:f,borderTopWidth:f,borderRightWidth:f,borderBottomWidth:f},a.animSpeed)};switch(a.overlay){case "hovered":"on"===a.overlayIcon?(k=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","show")},l=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave",
"hide")}):(k=function(a){w(a,"div.jig-overlay-wrapper","mouseenter","show")},l=function(a){w(a,"div.jig-overlay-wrapper","mouseleave","hide")});break;case "others":"on"===a.overlayIcon?(k=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","hide")},l=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","show")}):(k=function(a){w(a,"div.jig-overlay-wrapper","mouseenter","hide")},l=function(a){w(a,"div.jig-overlay-wrapper","mouseleave",
"show")})}switch(a.innerBorder){case "hovered":switch(a.innerBorderAnimate){case "width":n=function(b){E(b,"div.jig-border","mouseenter",a.innerBorderWidth+"px")};m=function(a){E(a,"div.jig-border","mouseleave",0)};break;case "opacity":n=function(a){w(a,"div.jig-border","mouseenter","show")};m=function(a){w(a,"div.jig-border","mouseleave","hide")};break;case "off":n=function(a){d(a).find("div.jig-border").show()},m=function(a){d(a).find("div.jig-border").hide()}}break;case "others":switch(a.innerBorderAnimate){case "width":n=
function(a){E(a,"div.jig-border","mouseenter",0)};m=function(b){E(b,"div.jig-border","mouseleave",a.innerBorderWidth+"px")};break;case "opacity":n=function(a){w(a,"div.jig-border","mouseenter","hide")};m=function(a){w(a,"div.jig-border","mouseleave","show")};break;case "off":n=function(a){d(a).find("div.jig-border").hide()},m=function(a){d(a).find("div.jig-border").show()}}}switch(a.middleBorder){case "hovered":v=function(b){d(b).parent().parent("div.jig-imageContainer").css("background",a.middleBorderColor)};
z=function(a){d(a).parent().parent("div.jig-imageContainer").css("background","transparent")};break;case "others":v=function(a){d(a).parent().parent("div.jig-imageContainer").css("background","transparent")},z=function(b){d(b).parent().parent("div.jig-imageContainer").css("background",a.middleBorderColor)}}switch(a.outerBorder){case "hovered":A=function(b){d(b).parent().parent("div.jig-imageContainer").css("border-color",a.outerBorderColor)};M=function(a){d(a).parent().parent("div.jig-imageContainer").css("border-color",
"transparent")};break;case "others":A=function(a){d(a).parent().parent("div.jig-imageContainer").css("border-color","transparent")},M=function(b){d(b).parent().parent("div.jig-imageContainer").css("border-color",a.outerBorderColor)}}if(J)switch(a.specialFx){case "others":u=function(a){G(a,".jig-pixastic","mouseleave",.01)};h=function(b){G(b,".jig-pixastic","mouseleave",a.specialFxBlend)};break;case "hovered":u=function(b){G(b,".jig-pixastic","mouseenter",a.specialFxBlend)},h=function(a){G(a,".jig-pixastic",
"mouseleave",.01)}}else switch(a.specialFx){case "others":u=function(a){G(a,".jig-pixastic","mouseenter",.01)};h=function(b){G(b,".jig-pixastic","mouseleave",a.specialFxBlend)};break;case "hovered":u=function(b){G(b,".jig-pixastic","mouseenter",a.specialFxBlend)},h=function(a){G(a,".jig-pixastic","mouseleave",.01)}}switch(a.caption){case "fade":B=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","show")};p=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","hide")};break;
case "reverse-fade":B=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","hide")};p=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","show")};break;case "slide":J?(B=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","show")},p=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(B=function(a){x(a,".jig-caption-wrapper .jig-caption","mouseenter","show")},p=function(a){x(a,
".jig-caption-wrapper .jig-caption","mouseleave","hide")}):(B=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseenter","show")},p=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseleave","hide")});break;case "reverse-slide":J?(B=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","hide")},p=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","show")}):"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(B=function(a){x(a,".jig-caption-wrapper .jig-caption",
"mouseenter","hide")},p=function(a){x(a,".jig-caption-wrapper .jig-caption","mouseleave","show")}):(B=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseenter","hide")},p=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseleave","show")});break;case "mixed":"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(B=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},p=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper",
"mouseleave","hide")}):(B=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},p=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")});break;case "reverse-mixed":"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(B=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},p=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")}):
(B=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},p=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")})}"yes"!==a.disableHover&&(a.element.on("mouseenter mouseleave","a",function(a){var b=d(this);"none"!==b.css("display")&&(a.stopImmediatePropagation(),"mouseenter"===a.type?(k(b),u(b),B(b),n(b),v(b),A(b),b.data("title",b.attr("title")),b.removeAttr("title")):(l(b),h(b),p(b),m(b),z(b),M(b),b.attr("title",b.data("title"))))}),
a.element.on("mousedown","a",function(a){d(this).attr("title",d(this).data("title"))}));d("body").one("jig-fontLoaded",R);if("off"!==a.loadMore){a.loadMoreCounter=0;if("carousel"==a.lightbox)a.element.on("click",function(a){d(a.target).hasClass("justified-image-grid")&&(a.stopPropagation(),a.preventDefault())});a.element.on("click",".jig-loadMoreButton",y)}"prettyphoto"==a.lightbox&&"undefined"!==typeof jigOtherPrettyPhotoIsPresent&&d(document).ready(function(){setTimeout(function(){window[a.lightboxInit]()},
10)});if(a.filters||a.L2filters){a.filteredImages=[];if(a.filters){a.filterMultiple=a.filterMultiple||"no";a.filterStyle=a.filterStyle||"buttons";var r;"buttons"==a.filterStyle?(a.filterType="Button",g="div"):(a.filterType="Tag",g="span");var C='<div id="jig'+a.instance+"-filter"+a.filterType+'s" class="jig-filter'+a.filterType+"s "+("no"!==a.filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(thisIsTouch?"jig-touch ":"jig-no-touch ")+(K?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="1">';
for(r in a.filters)q(a.filters,r)&&(a.filteredImages[r]=[],C+="<"+g+' class="jig-filter'+a.filterType+'" data-filter-slug="'+r+'">'+a.filters[r]+"</"+g+">");a.element.before(C+"</div>");"undefined"!==typeof a.filteredImages["all-items-nofilter"]&&(a.filteredImages["all-items-nofilter"]=a.selectedItems.slice());g=0;for(C=a.selectedItems.length;g<C;g+=1)if(a.selectedItems[g].filters)for(var H=0,P=a.selectedItems[g].filters.length;H<P;H+=1)"undefined"!==typeof a.filteredImages[a.selectedItems[g].filters[H][0]]&&
"function"==typeof a.filteredImages[a.selectedItems[g].filters[H][0]].push&&a.filteredImages[a.selectedItems[g].filters[H][0]].push(a.selectedItems[g]);g=d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+'[data-filter-slug="all-items-nofilter"]');0<g.length&&d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().attr("data-filter-slug")!==g.attr("data-filter-slug")&&g.parent().prepend(g);if("tags"==a.filterStyle){for(r in a.filters)q(a.filters,r)&&d("#jig"+
a.instance+"-filter"+a.filterType+'s .jig-filterTag[data-filter-slug="'+r+'"]').attr("rel",a.filteredImages[r].length);d.fn.tagcloud.defaults={size:{start:a.filterSmallestSize,end:a.filterLargestSize,unit:"px"},color:{start:a.filterSmallestColor,end:a.filterLargestColor}};0<g.length?(g.css({"font-size":a.filterLargestSize,color:a.filterLargestColor}),d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+":gt(0)").tagcloud()):d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+
a.filterType).tagcloud()}d("#jig"+a.instance+"-filter"+a.filterType+"s").on("click",".jig-filter"+a.filterType,Q)}if(a.L2filters){a.L2filterMultiple=a.L2filterMultiple||"no";a.L2filterStyle=a.L2filterStyle||"buttons";var D;"buttons"==a.L2filterStyle?(a.L2filterType="Button",r="div"):(a.L2filterType="Tag",r="span");a.L2filteredImages=[];g='<div id="jig'+a.instance+"-L2filter"+a.L2filterType+'s" class="jig-filter'+a.L2filterType+"s "+("no"!==a.L2filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+
(thisIsTouch?"jig-touch ":"jig-no-touch ")+(K?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="2">';for(D in a.L2filters)q(a.L2filters,D)&&(a.L2filteredImages[D]=[],g+="<"+r+' class="jig-filter'+a.L2filterType+'" data-filter-slug="'+D+'">'+a.L2filters[D]+"</"+r+">");a.element.before(g+"</div>");"undefined"!==typeof a.L2filteredImages["all-items-nofilter"]&&(a.L2filteredImages["all-items-nofilter"]=a.selectedItems.slice());r=0;for(g=a.selectedItems.length;r<g;r+=1)if(a.selectedItems[r].L2filters)for(C=
0,H=a.selectedItems[r].L2filters.length;C<H;C+=1)"undefined"!==typeof a.L2filteredImages[a.selectedItems[r].L2filters[C][0]]&&a.L2filteredImages[a.selectedItems[r].L2filters[C][0]].push(a.selectedItems[r]);r=d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType+'[data-filter-slug="all-items-nofilter"]');0<r.length&&d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().attr("data-filter-slug")!==r.attr("data-filter-slug")&&r.parent().prepend(r);
if("tags"==a.L2filterStyle){for(D in a.L2filters)q(a.L2filters,D)&&d("#jig"+a.instance+"-L2filter"+a.L2filterType+'s .jig-filterTag[data-filter-slug="'+D+'"]').attr("rel",a.L2filteredImages[D].length);d.fn.tagcloud.defaults={size:{start:a.filterSmallestSize,end:a.filterLargestSize,unit:"px"},color:{start:a.filterSmallestColor,end:a.filterLargestColor}};0<r.length?(r.css({"font-size":a.filterLargestSize,color:a.filterLargestColor}),d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType+
":gt(0)").tagcloud()):d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).tagcloud()}d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s").on("click",".jig-filter"+a.L2filterType,Q)}Q()}else t.createGallery();var I;d(window).resize(function(){"undefined"!==typeof I&&clearTimeout(I);I=setTimeout(function(){t.createGallery("resize")},100)})};t.createGallery=function(b){if(!1===d.JIGjQueryMinVersion("1.7"))return JIGjQueryMinVersion("1.7",!0),!1;var c=Math.round(a.element.width()),
e=d(window).width(),f;void 0===a.fixedWidth?(a.element.css("width","").css("width",Math.round(a.element.width())),0===a.element.width()?void 0===a.fallbackWidth?0!==c&&e==a.lastWindowWidth?a.element.css("width",c+"px"):(f=0,a.element.parents().each(function(b,c){var g=d(c),k=d(c).parent(),l=g.width();if(g.is(":visible")&&0!==l)return a.element.css("width",l-f+"px"),"undefined"==typeof k.data("jigAddedTabsHandler")&&(k.on("click",function(a){e!==d(window).width()&&k.find(".justified-image-grid").each(function(){var a=
d(this);a.is(":visible")&&a.data("justifiedImageGrid").createGallery("resize")})}),k.data("jigAddedTabsHandler",!0)),!1;f+=g.outerWidth(!0)-g.width()})):a.element.css("width",a.fallbackWidth+"px"):1E4<a.element.width()&&(a.element.css("width",e),d(window).on("load",function(){t.createGallery("resize")}))):a.element.css("width","").css("width",a.fixedWidth);c=Math.round(a.element.width());if(9>c)10<a.retryCount?a.element.find(".jig-clearfix").html("The element is invisible or too thin, upon page loading. In case of using tabs, try a Custom width in the General settings and you may also use a fixed width. (Justified Image Grid)"):
a.retryBuilding=setTimeout(function(){a.retryCount++;t.createGallery()},100);else{a.retryBuilding&&clearTimeout(a.retryBuilding);a.element.find(".jig-clearfix").empty();a.justResized=!1;if("resize"===b){if(a.areaWidth&&a.areaWidth==c)return;a.justResized=!0}a.element.find(".jig-overflow a *:not(div)").off();a.areaWidth=c;a.row=[];a.fullWidth=a.extra=0;a.rows=[];a.unshifts=[];a.screenHeight=d(window).height();a.screenHeightLimitRatio=Math.min(a.screenHeight/a.originalMaxHeight,1);if(a.prevScreenHeightLimitRatio!==
a.screenHeightLimitRatio){1>a.screenHeightLimitRatio?(a.maxHeight=a.screenHeight,a.targetHeight=Math.round(a.maxHeight-a.heightDeviation*a.screenHeightLimitRatio),a.minHeight=50!=a.minHeight?Math.round(a.targetHeight-a.heightDeviation*a.screenHeightLimitRatio):50,a.defaultHeightRatio=a.targetHeight/a.maxHeight):(a.maxHeight=a.originalMaxHeight,a.targetHeight=a.originalTargetHeight,a.minHeight=a.originalMinHeight,a.defaultHeightRatio=a.originalDefaultHeightRatio);if(-1!=a.prevScreenHeightLimitRatio||
1!=a.screenHeightLimitRatio)for(var g in a.selectedItems)q(a.selectedItems,g)&&("undefined"===typeof a.selectedItems[g].originalWidth&&(a.selectedItems[g].originalWidth=a.selectedItems[g].width),a.selectedItems[g].width=Math.round(a.selectedItems[g].originalWidth*a.screenHeightLimitRatio));a.prevScreenHeightLimitRatio=a.screenHeightLimitRatio}a.items=a.selectedItems.slice();if(!0===a.errorChecked&&!1===a.justResized){for(var k in a.items)if(q(a.items,k)&&-1!=d.inArray(void 0===a.items[k].photon?void 0===
a.items[k].thumbUrl?a.items[k].url:a.items[k].thumbUrl:a.items[k].photon,a.errorImages)&&(g=a.items[k],a.items.splice(k,1),a.filters)){c=d("#jig"+a.instance+"-filterButtons .jig-filterButtonSelected").attr("data-filter-slug");a.filteredImages[c]=a.items.slice();for(var c=1,l=a.filters.length;c<l;c+=1)for(var u=0,h=a.filteredImages[a.filters[c][0]].length;u<h;u+=1){var n=d.inArray(g,a.filteredImages[a.filters[c][0]]);-1!=n&&a.filteredImages[a.filters[c][0]].splice(n,1)}}a.selectedItems=a.items.slice();
a.errorImages=[];if(0===a.selectedItems.length){a.timThumbError='<a href="http://justifiedgrid.com/support/fix/all-of-the-images-have-failed-to-load/" target="_blank" rel="external nofollow" style="border-style:none; text-decoration: none; font-weight: bold;"><div style="background-color: #212121; color: white; padding: 10px; display: inline-block;">JIG</div><div style="background-color: #b71c1c; color:white; color: rgba(255, 255, 255, 0.87); padding: 10px; display: inline-block;">All of the images have failed to load. Please click here to reach the troubleshooting fix.</div></a>';
a.element.html(a.timThumbError);return}a.errorChecked=!1}if(""===a.maxRows||0===a.maxRows)a.maxRows=1E3;a.rowcount=0;a.imagesShown=0;""!==a.initiallyLoad&&"off"!==a.loadMore&&0===a.loadMoreCounter&&(a.limit=parseInt(a.initiallyLoad,10));for(a.whileUntil=0===a.limit?0:a.limit<a.selectedItems.length?a.items.length-a.limit:0;a.items.length>a.whileUntil&&a.rowcount<a.maxRows;)k=Y(),!1!==k&&(a.rows.push(k),a.rowcount++);a.imagesShown+=a.selectedItems.length-a.items.length;a.element.find(".jig-imageContainer:gt("+
(a.imagesShown-1)+")").remove();a.imagesAlreadyAdded=a.element.find(".jig-imageContainer").length;c=k=0;for(l=a.rows.length;c<l;c+=1)for(u=0,h=a.rows[c].length;u<h;u+=1)k++,g=a.rows[c][u],g.container&&k<=a.imagesAlreadyAdded?Z(g,a.rows[c].length,u):aa(g,a.rows[c].length,u);if("links-off"!==a.lightbox&&"no"!==a.lightbox&&"new_tab"!==a.lightbox&&""!==a.linkrel){for(;0<a.unshifts.length;)g=a.unshifts.shift(),void 0===g.linkContainer?S(g):a.currentHiddenLink=g.linkContainer;for(;0<a.items.length;)g=a.items.shift(),
void 0===g.linkContainer?S(g):a.currentHiddenLink=g.linkContainer;a.currentHiddenLink=void 0}void 0===a.fixedWidth&&(a.element.css("width","").css("width",Math.round(a.element.width())),0===a.element.width()&&a.element.css("width",a.areaWidth+"px"));d("img",a.element).not(".jig-hiddenImg").on("load",function(){if(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState)||J){var b=d(this).closest("a"),c=d(this).closest(".jig-overflow");
0!==b.length&&!0!==b.hasClass("jig-loaded")&&(b.addClass("jig-loaded"),"0"===c.css("opacity")&&c.css("opacity",1),"off"!=a.specialFx&&d(this).clone().addClass("jig-pixastic").insertAfter(d(this)).on("load",T).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&d(this).trigger("load")}));d(this).off("load")}else"yes"==a.errorChecking&&(b=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(d(this).attr("src")),
null!==b?void 0!==b[1]?a.errorImages.push(b[1]):void 0!==b[2]&&a.errorImages.push(b[2]):a.errorImages.push(d(this).attr("src")),d(this).closest(".jig-imageContainer").addClass("jig-unloadable"),U())}).on("error",function(){if("yes"==a.errorChecking){var b=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(d(this).attr("src"));null!==b?void 0!==b[1]?a.errorImages.push(b[1]):void 0!==b[2]&&a.errorImages.push(b[2]):a.errorImages.push(d(this).attr("src"));d(this).closest(".jig-imageContainer").addClass("jig-unloadable");
U()}}).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&d(this).trigger("load")});"resize"!==b?V():"prettyphoto"==a.lightbox&&"undefined"!==typeof jigReCallPrettyPhotoAfterPossibleResize?setTimeout(function(){window[a.lightboxInit]();jigReCallPrettyPhotoAfterPossibleResize=void 0},10):a.visibleImageCount!=d(".jig-imageContainer",a.element).length&&V();if("click"==a.loadMore||"scroll"==
a.loadMore||"hybrid"==a.loadMore||"once"==a.loadMore)a.loadMoreButton=a.element.find(".jig-loadMoreButton"),b=a.selectedItems.length-a.limit,k=a.element.find(".jig-hiddenLink").length,1==a.loadMoreButton.length?0<b?(a.loadMoreButton.find(".jig-loadMoreButton-count").text(0!==k?k:b),"yes"===a.loadMoreAutoWidth&&a.loadMoreButton.css("width",a.loadMoreButton.find(".jig-loadMoreButton-inner").width())):a.loadMoreButton.remove():0<b&&(g="",a.loadMoreCountText&&"none"!==a.loadMoreCountText&&(g=a.loadMoreCountText,
g=g.replace("*count*",'<span class="jig-loadMoreButton-count">'+(0!==k?k:b)+"</span>")),a.loadMoreButton=d('<div class="jig-loadMoreButton"><span class="jig-loadMoreButton-inner">'+a.loadMoreText+(""!==g?"<br />"+g:"")+"</span></div>"),a.element.find(".jig-clearfix").after(a.loadMoreButton),"yes"===a.loadMoreAutoWidth&&a.loadMoreButton.css("width",a.loadMoreButton.find(".jig-loadMoreButton-inner").width())),"scroll"!=a.loadMore&&"hybrid"!=a.loadMore||d(window).scroll(function(){if(("scroll"==a.loadMore||
"hybrid"==a.loadMore&&0<a.loadMoreCounter)&&0<a.selectedItems.length-a.limit){var b=a.element.find(".jig-loadMoreButton").offset();d(window).scrollTop()>=b.top-parseInt(a.loadMoreOffset,10)-d(window).height()&&y()}});if("no"!==a.wrapText){b=a.element.find(".jig-imageContainer:last");0===a.element.find(".jig-flowSpacer").length&&a.element.find(".jig-imageContainer:last").after('<div class="jig-flowSpacer"></div>').next().css({width:"1px",height:b.height()+3,"float":"ltr"==a.readingDirection?"left":
"right"});var p=a.element.find(".jig-flowSpacer");setTimeout(function(){"ltr"==a.readingDirection?a.element.offset().left==p.offset().left?p.css("margin-right",0):p.css("margin-right",2*a.margins):a.element.offset().left==p.offset().left?p.css("margin-left",0):p.css("margin-left",2*a.margins)},1)}"yes"!=a.customFonts||"off"===a.caption||"below"!=a.caption&&"off"===a.verticalCenterCaptions&&"captions"!=a.specialFx||R(!0);a.prevInstanceID="#jig"+(a.instance-1);d(window).width()!=e||a.areaWidth!=Math.round(a.element.width())?
(a.resizeCount++,1<a.resizeCount&&a.element.css("min-height",a.element.height()),t.createGallery("resize"),1<a.instance&&0!==d(a.prevInstanceID).length&&d(a.prevInstanceID).data("justifiedImageGrid").createGallery("resize"),a.element.css("min-height","")):(1<a.instance&&0!==d(a.prevInstanceID).length&&(a.prevInstanceData=d(a.prevInstanceID).data("justifiedImageGrid"),a.prevInstanceData.s.element.css("width","").css("width",a.prevInstanceData.s.element.width()),a.prevInstanceData.s.areaWidth!=a.prevInstanceData.s.element.width()&&
a.prevInstanceData.createGallery("resize")),a.resizeCount=0,a.lastWindowWidth=e,a.visibleImageCount=d(".jig-imageContainer",a.element).length)}};var R=function(b){!0!==b&&(b="captions"==a.specialFx?!0:!1);a.element.find(".jig-imageContainer").each(function(c,e){var f=d(e),g;if("off"!==a.verticalCenterCaptions){g=f.find(".jig-caption-wrapper");var k=g.filter(".jig-cw-role-real"),l=k.height(),u=k.find(".jig-caption"),h="mixed"==a.caption||"reverse-mixed"==a.caption?k.find(".jig-caption-description-wrapper"):
!1;"slide"!=a.caption&&"reverse-slide"!=a.caption||!u.is(":animated")?"mixed"!=a.caption&&"reverse-mixed"!=a.caption||!h.is(":animated")?(0===l&&(u.css({opacity:0,display:"block"}),l=k.height(),u.removeAttr("style")),!0===b?g.css({bottom:"auto",top:Math.round(k.closest(".jig-imageContainer").height()/2-l/2)}):g.css({bottom:"auto"}).animate({top:Math.round(k.closest(".jig-imageContainer").height()/2-l/2)},a.animSpeed,"JIGeaseInOutQuad")):h.promise().done(function(){l=k.height();var b=h.height();"mixed"==
a.caption&&0!==b?(h.css({display:"none"}),l=k.height(),h.css({display:"block"})):"reverse-mixed"==a.caption&&0===b&&(h.css({display:"block"}),l=k.height(),h.css({display:"none"}));g.css({bottom:"auto"}).animate({top:Math.round(k.closest(".jig-imageContainer").height()/2-l/2)},a.animSpeed,"JIGeaseInOutQuad")}):u.promise().done(function(){l=k.height();0===l&&(u.css({opacity:0,display:"block"}),l=k.height(),u.removeAttr("style"));g.css({bottom:"auto"}).animate({top:Math.round(k.closest(".jig-imageContainer").height()/
2-l/2)},a.animSpeed,"JIGeaseInOutQuad")})}"below"==a.caption&&P(f,!0);"captions"==a.specialFx&&(M&&"no"!==a.captionMatchWidth&&f.find(".jig-caption-title, .jig-caption-wrapper").each(function(){var a=d(this),b=a.css("width","")[0].getBoundingClientRect().width;0!==b%2&&(b=Math.ceil(b),a.css({width:0!==b%2?b+1:b}))}),g=g?g:f.find(".jig-caption-wrapper"),O(N(g)))})},V=function(){switch(a.lightbox){case "prettyphoto":case "colorbox":case "magnific":case "photoswipe":case "photoswipe3":case "foobox":case "custom":window[a.lightboxInit]();
break;case "links-off":a.element.find("a").css("cursor","default");a.element.on("click","a",function(a){a.preventDefault()});d(a.element).on("click","a",function(a){2===a.which&&a.preventDefault()});break;case "socialgallery":try{socialGalleryBind()}catch(b){}}},Q=function(b){var c=d(this),e=c.attr("data-filter-slug"),f=!1,g,k,l,h;"undefined"===typeof b&&(c=!1!==a.filters?d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first():d("#jig"+a.instance+"-L2filter"+a.L2filterType+
"s .jig-filter"+a.L2filterType).first(),e=c.attr("data-filter-slug"));g=c.parent().attr("data-filter-level");if(1==g){if("no"==a.filterMultiple||"all-items-nofilter"==e)!1===c.hasClass("jig-filter"+a.filterType+"Selected")&&(c.siblings(".jig-filter"+a.filterType+"Selected").removeClass("jig-filter"+a.filterType+"Selected"),c.addClass("jig-filter"+a.filterType+"Selected"),a.selectedItems=a.filteredImages[e],f=!0);else{f=c.parent().find(".jig-filter"+a.filterType+"Selected").length;1==f&&"all-items-nofilter"==
c.siblings(".jig-filter"+a.filterType+"Selected").attr("data-filter-slug")&&c.siblings(".jig-filter"+a.filterType+"Selected").removeClass("jig-filter"+a.filterType+"Selected");if(!1===c.hasClass("jig-filter"+a.filterType+"Selected"))c.addClass("jig-filter"+a.filterType+"Selected"),f++;else{if(1==f)if("all-items-nofilter"==d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().attr("data-filter-slug"))d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().click().addClass("jig-filter"+
a.filterType+"Selected");else return;c.removeClass("jig-filter"+a.filterType+"Selected");f--}var n=[];c.parent().find(".jig-filter"+a.filterType+"Selected").each(function(){n.push(d(this).attr("data-filter-slug"))});e=n.toString();if("undefined"===typeof a.filteredImages[e]){a.filteredImages[e]=[];var m=0;k=a.allItems.length;for(f=0;f<k;f+=1)if(a.allItems[f].filters)for(m=0,h=a.allItems[f].filters.length,l=0;l<h;l+=1)"or"==a.filterMultiple?-1<d.inArray(a.allItems[f].filters[l][0],n)&&-1==d.inArray(a.allItems[f],
a.filteredImages[e])&&a.filteredImages[e].push(a.allItems[f]):(-1<d.inArray(a.allItems[f].filters[l][0],n)&&m++,m==n.length&&-1==d.inArray(a.allItems[f],a.filteredImages[e])&&a.filteredImages[e].push(a.allItems[f]))}a.selectedItems=a.filteredImages[e];f=!0}f&&a.L2filters&&(a.L1selectedItems=a.selectedItems)}if(a.L2filters){"undefined"===typeof b&&(c=d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first(),g=c.parent().attr("data-filter-level"));if(2==g)if("no"==a.L2filterMultiple||
"all-items-nofilter"==e)c.siblings(".jig-filter"+a.L2filterType+"Selected").removeClass("jig-filter"+a.L2filterType+"Selected"),c.addClass("jig-filter"+a.L2filterType+"Selected");else if(b=c.parent().find(".jig-filter"+a.L2filterType+"Selected").length,1==b&&"all-items-nofilter"==c.siblings(".jig-filter"+a.L2filterType+"Selected").attr("data-filter-slug")&&c.siblings(".jig-filter"+a.L2filterType+"Selected").removeClass("jig-filter"+a.L2filterType+"Selected"),!1===c.hasClass("jig-filter"+a.L2filterType+
"Selected"))c.addClass("jig-filter"+a.L2filterType+"Selected"),b++;else{if(1==b)if("all-items-nofilter"==d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().attr("data-filter-slug"))d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().click().addClass("jig-filter"+a.L2filterType+"Selected");else return;c.removeClass("jig-filter"+a.L2filterType+"Selected");b--}var p=[];d("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+
a.L2filterType+"Selected").each(function(){p.push(d(this).attr("data-filter-slug"))});e=[];a.filters&&d("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+"Selected").each(function(){e.push(d(this).attr("data-filter-slug"))});c=e.concat(p).toString();!1===a.filters&&(a.L1selectedItems=a.allItems);if("undefined"===typeof a.filteredImages[c])if(1==p.length&&"all-items-nofilter"==p[0])a.filteredImages[c]=a.L1selectedItems,a.selectedItems=a.filteredImages[c];else for(a.filteredImages[c]=
[],b=0,k=a.L1selectedItems.length,f=0;f<k;f+=1)if(a.L1selectedItems[f].L2filters)for(b=0,h=a.L1selectedItems[f].L2filters.length,l=0;l<h;l+=1)"or"==a.L2filterMultiple?-1<d.inArray(a.L1selectedItems[f].L2filters[l][0],p)&&-1==d.inArray(a.L1selectedItems[f],a.filteredImages[c])&&a.filteredImages[c].push(a.L1selectedItems[f]):(-1<d.inArray(a.L1selectedItems[f].L2filters[l][0],p)&&b++,b==p.length&&-1==d.inArray(a.L1selectedItems[f],a.filteredImages[c])&&a.filteredImages[c].push(a.L1selectedItems[f]));
a.selectedItems=a.filteredImages[c];f=!0}if(f){a.element.find(".jig-imageContainer, .jig-hiddenLink").remove();c=0;for(b=a.selectedItems.length;c<b;c+=1)a.selectedItems[c].linkContainer=void 0;t.createGallery("filter")}},Y=function(){a.row=[];a.validRow=!0;a.fullWidth=0;for(a.extra=0;a.items.length>a.whileUntil&&a.extra<a.areaWidth;){var b=a.items.shift();b.newHeight=b.newWidth=b.containerHeight=b.containerWidth=b.marLeft=void 0;b.ratio=b.width/a.maxHeight;a.row.push(b);a.fullWidth+=Math.round(b.width*
a.defaultHeightRatio)+a.margins+a.bordersTotal;a.extra=a.fullWidth-a.margins}a.extra-=a.areaWidth;if(0<a.row.length&&0<a.extra||0===a.rows.length&&a.items.length>a.whileUntil){for(var b="landscape",c=0,e=a.row.length;c<e;c+=1)if(1>a.row[c].ratio){b="portrait";break}"landscape"==b?W():"yes"!==a.disableCropping?z():W()}else if(0<a.rows.length&&a.items.length==a.whileUntil){switch(a.incompleteLastRow){case "flexible":z("flexible");break;case "flexible-center":z("flexible-center");break;case "hide":z("hide");
break;case "flexible-match":"off"!==a.loadMore&&0>=a.selectedItems.length-a.limit?E():z("flexible");break;case "flexible-match-center":"off"!==a.loadMore&&0>=a.selectedItems.length-a.limit?E("center"):z("flexible-center");break;case "match":E();break;case "match-center":E("center");break;case "center":z("center");break;default:z("lastRow")}if(!0!==a.validRow)return a.imagesShown-=a.row.length,a.unshifts=a.row,a.whileUntil+=a.unshifts.length,!1}else"center"!==a.incompleteLastRow&&"match-center"!==
a.incompleteLastRow&&"flexible-match-center"!==a.incompleteLastRow?z("lastRow"):z("center");return a.row},E=function(b){var c,e=0;c=0;for(var f=a.rows.length;c<f;c+=1)e=c;if(void 0===a.rows[e]||void 0===a.rows[e][0])z("lastRow");else{c=a.rows[e][0].containerHeight?a.rows[e][0].containerHeight:a.rows[e][0].newHeight;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;for(var f=a.rowlen=0,d=a.row.length;f<d;f+=1)void 0!==a.rows[e][f]&&a.row[f].width==a.rows[e][f].width?(a.row[f].newHeight=
a.rows[e][f].newHeight,a.row[f].containerHeight=a.rows[e][f].containerHeight,a.row[f].newWidth=a.rows[e][f].newWidth,a.row[f].containerWidth=a.rows[e][f].containerWidth,a.row[f].marLeft=a.rows[e][f].marLeft):(a.row[f].newHeight=c,a.row[f].newWidth=Math.round(a.row[f].newHeight*a.row[f].ratio)),a.rowlen+=a.row[f].newWidth,"undefined"!==typeof a.row[f].marLeft&&(a.rowlen-=2*a.row[f].marLeft);c>a.targetHeight&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,0<a.remaining&&I());"undefined"!==typeof b&&
a.rowlen+a.marginsTotal<a.areaWidth&&(a.row[0].spaceLeft=Math.floor(.5*(a.areaWidth-a.rowlen-a.marginsTotal)))}},W=function(){var b=!0;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;a.rowlen=0;a.heights=[];for(var c=0,e=a.row.length;c<e;c+=1){var f=Math.round(a.row[c].width*a.defaultHeightRatio);a.row[c].newWidth=f-Math.round((f+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);a.heights[c]=a.row[c].newWidth/a.row[c].ratio;if(a.heights[c]<a.minHeight){z();return}a.heights[c]>
a.maxHeight?(a.row[c].newHeight=a.targetHeight,a.row[c].newWidth=Math.round(a.row[c].newHeight*a.row[c].ratio),b=!1):(a.row[c].newHeight=a.heights[c],a.rowlen+=a.row[c].newWidth)}b&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,I())},z=function(b){var c=!0;if(1!=a.row.length&&void 0===b){var e=a.row.pop();a.fullWidth-=Math.round(e.width*a.defaultHeightRatio)+a.margins+a.bordersTotal;a.items.unshift(e);a.extra=a.fullWidth-a.margins;a.extra-=a.areaWidth}a.marginsTotal=(a.row.length-1)*a.margins+
a.row.length*a.bordersTotal;a.rowlen=0;a.heights=[];for(var e=0,f=a.row.length;e<f;e+=1){var d=Math.round(a.row[e].width*a.defaultHeightRatio);a.row[e].newWidth=d-Math.round((d+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);a.heights[e]=a.row[e].newWidth/a.row[e].ratio;if(a.heights[e]>a.maxHeight){if(void 0===b){b=a.items.shift();a.row.push(b);a.fullWidth+=Math.round(b.width*a.defaultHeightRatio)+a.margins+a.bordersTotal;a.extra=a.fullWidth-a.margins;a.extra-=a.areaWidth;X();return}"off"!==a.loadMore&&
0>=a.selectedItems.length-a.limit&&("flexible"==b?b="lastRow":"flexible-center"==b&&(b="center"));if("lastRow"==b){b=0;for(c=a.row.length;b<c;b+=1)a.row[b].newHeight=a.targetHeight,a.row[b].newWidth=Math.round(a.row[b].newHeight*a.row[b].ratio);return}if("center"==b){c=b=0;for(e=a.row.length;c<e;c+=1)a.row[c].newHeight=a.targetHeight,a.row[c].newWidth=Math.round(a.row[c].newHeight*a.row[c].ratio),b+=a.row[c].newWidth;a.row[0].spaceLeft=Math.floor(.5*(a.areaWidth-b-a.marginsTotal));return}a.validRow=
!1;a.row[e].newWidth=void 0;c=!1}else if(a.heights[e]<a.minHeight&&void 0===b){X();return}void 0!==a.row[e].newWidth&&(a.row[e].newHeight=a.heights[e],a.rowlen+=a.row[e].newWidth)}c&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,I())},I=function(){if(0!==a.remaining)if(0<a.remaining)for(;0<a.remaining;)for(var b=0,c=a.row.length;b<c&&(a.row[b].newWidth--,a.row[b].newHeight=a.heights[b]=a.row[b].newWidth/a.row[b].ratio,a.remaining--,0!==a.remaining);b+=1);else for(;0>a.remaining;)for(b=0,c=a.row.length;b<
c&&(a.row[b].newWidth++,a.row[b].newHeight=a.heights[b]=a.row[b].newWidth/a.row[b].ratio,a.remaining++,0!==a.remaining);b+=1);for(var b=Math.floor(Math.min.apply(null,a.heights)),c=0,e=a.row.length;c<e;c+=1)a.row[c].containerHeight=b,a.row[c].newHeight=Math.round(a.row[c].newHeight)},X=function(){var b=[],c=0;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;for(var e=0,f=a.row.length;e<f;e+=1){var d=a.row[e],k=Math.round(a.row[e].width*a.defaultHeightRatio);d.newHeight=a.targetHeight;
d.newWidth=k;b[e]=Math.round((k+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);c+=b[e]}c=a.extra-c;if(0!==c)if(0<c)for(;0<c;)for(e=0,f=b.length;e<f&&(b[e]++,c--,0!==c);e+=1);else for(;0>c;)for(e=0,f=b.length;e<f&&(b[e]--,c++,0!==c);e+=1);c=0;for(e=a.row.length;c<e;c+=1)f=b[c],d=a.row[c],d.marLeft=Math.round(f/2),d.containerWidth=d.newWidth-f},aa=function(b,c,e){if(isNaN(b.newWidth)||!b.width)return!1;void 0!==b.linkContainer&&(d(b.linkContainer).remove(),b.linkContainer=void 0);"undefined"===typeof b[a.linkTitleField]&&
(b[a.linkTitleField]="");"undefined"===typeof b[a.imgAltField]&&(b[a.imgAltField]="");"undefined"===typeof b[a.titleField]&&(b[a.titleField]="");"undefined"===typeof b[a.captionField]&&(b[a.captionField]="");"undefined"===typeof b.gallery&&(b.gallery="");var f="";b.carousel_data?(b.carousel_data=" "+b.carousel_data+" ",f=" tiled-gallery-item"):b.carousel_data="";b.extra_class&&(f+=" "+b.extra_class);b.off="";b.url=b.url;var f=d('<div class="jig-imageContainer'+f+'"/>'),g=d('<div class="jig-overflow"/>'),
k=b.url,l=b.link_target?b.link_target:"_self",h=a.linkClass,n=a.linkRel,t,p;p=!0;""!==b.gallery&&(f.append(b.gallery.html),n=' rel="'+b.gallery.rel+'" ',f.addClass(b.gallery.lightbox_class),f.attr("id",b.gallery.id));!b.link||(k=b.link,"video"!==l&&"videoplayer"!==l?(h="foobox"!==l?'target="'+l+'" '+h.replace("jig-link","jig-customLink"):'target="'+l+'" '+h.replace("jig-link",""),n=b.link_rel?'rel="'+b.link_rel+'"':""):"magnific"==a.lightbox&&-1==h.indexOf("mfp-")&&(h=h.replace("jig-link","jig-link mfp-iframe")),
"videoplayer"!=l&&"foobox"!=l)||-1===k.indexOf("&poster=")&&-1===k.indexOf("|poster=")||(p=!1);if(!0===p&&(k=(k+"").replace(/\+/g,"%20"),"https%3A%2F%2F"===k.substr(0,14)||"http%3A%2F%2F"===k.substr(0,13)))try{k=decodeURIComponent(k)}catch(da){}t=b[a.linkTitleField];p=b[a.imgAltField];b.download&&("yes"==a.downloadLink?(l=(0!==t.length?a.separatorCharacter:"")+b.download,t+=l):"alt"==a.downloadLink&&(l=(0!==p.length?a.separatorCharacter:"")+b.download,p+=l));b.lightbox_link&&("yes"==a.lightboxLink?
(lightboxLink=(0!==t.length?a.separatorCharacter:"")+b.lightbox_link,t+=lightboxLink):"alt"==a.lightboxLink&&(lightboxLink=(0!==p.length?a.separatorCharacter:"")+b.lightbox_link,p+=lightboxLink));""!==t&&(t='title="'+t+'" ');""!==p&&(p='alt="'+p+'" ');"new_tab"==a.lightbox&&(h='target="_blank" ');k=d("<a "+h+n+a.linkAttribute+t+(b.wh?'data-wh="'+b.wh+'" ':"")+'href="'+("links-off"!=a.lightbox?k:"#")+'" />');h=d("<img "+p+b.carousel_data+"/>");b.carousel_data&&b.download&&("yes"==a.downloadLink?(l=
(0!==h.attr("data-image-title").length?a.separatorCharacter:"")+d("<textarea />").html(b.download).val(),h.attr("data-image-title",h.attr("data-image-title")+l)):"alt"==a.downloadLink&&(l=(0!==h.attr("data-image-description").length?"<br />":"")+d("<textarea />").html(b.download).val(),h.attr("data-image-description",h.attr("data-image-description")+l)));"undefined"!==typeof b.geo&&h.attr("data-geo",b.geo);e==c-1&&f.addClass("jig-last");g.css("width",(b.containerWidth?b.containerWidth:b.newWidth)+
"px");g.css("height",(b.containerHeight?b.containerHeight:b.newHeight)+"px");b.photon?h.attr("src",decodeURIComponent((b.photon+"").replace(/\+/g,"%20"))):(c=b.thumbUrl?b.thumbUrl:b.url,e=a.originalMaxHeight,n="","normal"==a.thumbnailFilename&&(l=/.*\.(jpe?g|gif|bmp|png|webp)/im.exec(c),null!==l&&(n="&f=."+l[1])),a.aspectRatio||a.randomizeWidth?(l=a.maxWidth,""!==a.randomizeWidth&&(l="undefined"!==typeof b.originalWidth?b.originalWidth:b.width),"yes"==a.retinaReady&&(e=Math.floor(e*a.devicePixelRatio),
l=Math.floor(l*a.devicePixelRatio)),h.attr("src",a.timthumb+"?src="+c+"&h="+e+"&w="+l+"&q="+a.quality+a.cropZone+n)):"yes"==a.retinaReady?(e=Math.floor(e*a.devicePixelRatio),l=Math.floor(("undefined"!==typeof b.originalWidth?b.originalWidth:b.width)*a.devicePixelRatio),h.attr("src",a.timthumb+"?src="+c+"&h="+e+"&w="+l+"&q="+a.quality+a.cropZone+n)):h.attr("src",a.timthumb+"?src="+c+"&h="+e+"&q="+a.quality+a.cropZone+n));h.attr("width",b.newWidth).css("width",b.newWidth+"px");h.attr("height",b.newHeight).css("height",
b.newHeight+"px");b.marLeft&&h.css("margin-left",-b.marLeft+"px");("center"==a.incompleteLastRow||"flexible-center"==a.incompleteLastRow||"flexible-match-center"==a.incompleteLastRow||"match-center"==a.incompleteLastRow)&&b.spaceLeft&&0<b.spaceLeft&&(f.css("ltr"==a.readingDirection?"margin-left":"margin-right",b.spaceLeft+"px"),b.spaceLeft=0);h.css("margin-top",0);k.append(h);"off"!==a.overlay&&k.append('<div class="jig-overlay-wrapper"><div class="jig-overlay"></div></div>'+("on"===a.overlayIcon?
'<div class="jig-overlay-icon-wrapper"><div class="jig-overlay-icon"></div></div>':""));"off"!==a.caption&&(""!==b.gallery&&(b[a.titleField]="undefined"!==typeof b.gallery[a.titleField]&&""!==b.gallery[a.titleField]&&" "!==b.gallery[a.titleField]?b.gallery[a.titleField]:"",b[a.captionField]="undefined"!==typeof b.gallery[a.captionField]&&""!==b.gallery[a.captionField]&&" "!==b.gallery[a.captionField]?b.gallery[a.captionField]:""),c="",""!==b[a.titleField]&&" "!==b[a.titleField]&&(c+='<div class="jig-caption-title">'+
m(b[a.titleField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div>"),""!==b[a.captionField]&&" "!==b[a.captionField]&&(c+='<div class="jig-caption-description-wrapper"><div class="jig-caption-description'+(""!==c?"":" jig-alone")+'">'+m(b[a.captionField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div></div>"),""!==c?(c='<div class="jig-caption-wrapper jig-cw-role-real"><div class="jig-caption">'+c+"</div></div>","below"!==a.caption?k.append(c):0!==a.middleBorderWidth&&
"always"==a.innerBorder&&"always"!==a.middleBorder?f.append(d(c).width(g.width()-2*parseFloat(a.innerBorderWidth))):f.append(d(c).css({width:g.css("width")}))):"below"==a.caption&&(c='<div class="jig-caption-wrapper"></div>',0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?f.append(d(c).width(g.width()-2*parseFloat(a.innerBorderWidth))):f.append(d(c).css({width:g.css("width")}))));0===a.bordersTotal&&0===a.innerBorderWidth||k.append('<div class="jig-border"></div>');g.append(k);
b.carousel_data&&b.caption&&g.append('<div class="tiled-gallery-caption">'+m(b.caption)+"</div>");f.prepend(g);a.element.find(".jig-clearfix").before(f);"off"!==a.caption&&("below"==a.caption?P(f):"captions"==a.specialFx&&(e=f.find(".jig-cw-role-real"),0!==e.length&&(c="no"==a.captionMatchWidth||a.captionMatchWidthForceNo?d(e[0].cloneNode(!1)):e.clone(),c.removeClass("jig-cw-role-real").addClass("jig-cw-role-effect"),"off"!==a.overlay?f.find(".jig-overlay-wrapper").before(c):e.before(c))));b.container=
f;b.overflow=g;b.img=h;b.linkElement=k;return f},Z=function(b,c,e){e==c-1?b.container.addClass("jig-last"):b.container.removeClass("jig-last");c=b.overflow;e=b.img;c.css("width",(b.containerWidth?b.containerWidth:b.newWidth)+"px").width();c.css("height",(b.containerHeight?b.containerHeight:b.newHeight)+"px");e.attr("width",b.newWidth).css("width",b.newWidth+"px");e.attr("height",b.newHeight).css("height",b.newHeight+"px");b.marLeft?e.css("margin-left",-b.marLeft+"px"):e.css("margin-left","");if("center"==
a.incompleteLastRow||"flexible-center"==a.incompleteLastRow||"flexible-match-center"==a.incompleteLastRow||"match-center"==a.incompleteLastRow)b.spaceLeft&&0<b.spaceLeft?(b.container.css("ltr"==a.readingDirection?"margin-left":"margin-right",b.spaceLeft+"px"),b.spaceLeft=0):b.container.css("ltr"==a.readingDirection?"margin-left":"margin-right","");if("off"!=a.specialFx){var f=e.siblings(".jig-pixastic");0===f.length&&"captions"==a.specialFx&&(f=e.siblings(".jig-cw-role-effect").find(".jig-pixastic"));
ba(f,e,b.container)}"below"==a.caption&&(0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?b.container.find(".jig-caption-wrapper").width(c.width()-2*parseFloat(a.innerBorderWidth)):b.container.find(".jig-caption-wrapper").css({width:c.css("width")}),P(b.container,!0));"off"!==a.caption&&"off"!==a.verticalCenterCaptions&&(c=b.container.find(".jig-cw-role-real").clone(),c.find(".jig-caption").css("display","block"),c.appendTo(b.linkElement).css({bottom:"auto",opacity:.01}).css("top",
Math.round((b.containerHeight?b.containerHeight:b.newHeight)/2-c.height()/2)),e=c.css("top"),c.remove(),b.container.find(".jig-caption-wrapper").css({bottom:"auto"}).animate({top:e},a.animSpeed,"JIGeaseInOutQuad"))},S=function(b,c){"undefined"===typeof b[a.linkTitleField]&&(b[a.linkTitleField]="");"undefined"===typeof b[a.imgAltField]&&(b[a.imgAltField]="");"undefined"===typeof b[a.titleField]&&(b[a.titleField]="");"undefined"===typeof b[a.captionField]&&(b[a.captionField]="");var e=b.off="";b.carousel_data?
(b.carousel_data=" "+b.carousel_data+" ",e=" tiled-gallery-item"):b.carousel_data="";b.extra_class&&(e+=" "+b.extra_class);var f=b.url,g,k,h=a.hiddenLinkClass;k=b.link_target?b.link_target:"_self";var n=a.linkRel;g=!0;""!==e&&(h=h.replace('jig-hiddenLink"',"jig-hiddenLink"+e+'"'));!b.link||(f=b.link,"video"!==k&&"videoplayer"!==k?(h="foobox"!==k?'target="'+k+'" '+h.replace("jig-link","jig-customLink jig-hiddenLink"):'target="'+k+'" '+h.replace("jig-link","jig-hiddenLink"),n=b.link_rel?'rel="'+b.link_rel+
'"':""):"magnific"==a.lightbox&&-1==h.indexOf("mfp-")&&(h=h.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=k&&"foobox"!=k)||-1===f.indexOf("&poster=")&&-1===f.indexOf("|poster=")||(g=!1);if(!0===g&&(f=(f+"").replace(/\+/g,"%20"),"https%3A%2F%2F"===f.substr(0,14)||"http%3A%2F%2F"===f.substr(0,13)))try{f=decodeURIComponent(f)}catch(ca){}g=b[a.linkTitleField];k=b[a.imgAltField];b.download&&("yes"==a.downloadLink?(e=(0!==g.length?a.separatorCharacter:"")+b.download,g+=e):"alt"==a.downloadLink&&
(e=(0!==k.length?a.separatorCharacter:"")+b.download,k+=e));b.lightbox_link&&("yes"==a.lightboxLink?(lightboxLink=(0!==g.length?a.separatorCharacter:"")+b.lightbox_link,g+=lightboxLink):"alt"==a.lightboxLink&&(lightboxLink=(0!==k.length?a.separatorCharacter:"")+b.lightbox_link,k+=lightboxLink));""!==g&&(g='title="'+g+'" ');""!==k&&(k='alt="'+k+'" ');f=d("<a "+h+n+a.linkAttribute+g+(b.wh?'data-wh="'+b.wh+'" ':"")+'href="'+("links-off"!=a.lightbox?f:"#")+'"/>');h=d('<img class="jig-hiddenImg" '+k+b.carousel_data+
"/>");b.carousel_data&&b.download&&("yes"==a.downloadLink?(e=(0!==h.attr("data-image-title").length?a.separatorCharacter:"")+d("<textarea />").html(b.download).val(),h.attr("data-image-title",h.attr("data-image-title")+e)):"alt"==a.downloadLink&&(e=(0!==h.attr("data-image-description").length?"<br />":"")+d("<textarea />").html(b.download).val(),h.attr("data-image-description",h.attr("data-image-description")+e)));h.attr("src","data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D");
f.append(h);b.linkContainer=f;void 0!==a.currentHiddenLink?d(a.currentHiddenLink).after(f):a.element.find(".jig-clearfix").after(f);a.currentHiddenLink=f},ba=function(a,c,e){c.off("load");0!==a.length&&a.off("load").remove();c.clone().addClass("jig-pixastic").insertAfter(c).on("load",T).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth)&&d(this).trigger("load")})},T=function(){if(!0!==d(this).hasClass("jig-specialfx-complete"))if(d(this).parent(),d(this).stop().css("display",
"block").css("opacity",1),""===a.specialFxOptions)switch(a.specialFxType){case "desaturate":Pixastic.process(this,"desaturate",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,average:!1},A);break;case "blur":Pixastic.process(this,"blurfast",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,amount:.5},A);break;case "glow":Pixastic.process(this,"glow",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,amount:.3,radius:.2},A);break;case "sepia":Pixastic.process(this,
"sepia",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio},A);break;case "laplace_dark":Pixastic.process(this,"laplace",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,edgeStrength:2,invert:!1,greyLevel:0},A);break;case "laplace_light":Pixastic.process(this,"laplace",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,edgeStrength:2,invert:!0,greyLevel:0},A)}else{for(var b=a.specialFxOptions,c={},e=0,f=b.length;e<f;e+=1){var g=b[e].split(":");c[g[0]]=g[1]}c.retinaReady=
a.retinaReady;c.devicePixelRatio=a.devicePixelRatio;switch(a.specialFxType){case "desaturate":Pixastic.process(this,"desaturate",c,A);break;case "blur":Pixastic.process(this,"blurfast",c,A);break;case "glow":Pixastic.process(this,"glow",c,A);break;case "sepia":Pixastic.process(this,"sepia",A);break;case "laplace_dark":Pixastic.process(this,"laplace",c,A);break;case "laplace_light":Pixastic.process(this,"laplace",c,A)}}d(this).off("load")},A=function(b,c){if(!1===b){var e=d(c);e.siblings(".jig-cw-role-effect").remove();
e.remove()}else if(b=d(b),"hovered"===a.specialFx?b.css("opacity",a.hiddenOpacity):b.css("opacity",a.specialFxBlend),b.addClass("jig-specialfx-complete"),"captions"==a.specialFx){e=b.closest(".jig-imageContainer").find(".jig-cw-role-effect");if("no"==a.captionMatchWidth)b.appendTo(e);else try{var f=b[0].toDataURL("image/jpeg"),g=b.css("width")+" "+b.css("height");b.remove();e.find(".jig-caption-title").css({"background-image":"url("+f+")","background-size":g});e.find(".jig-caption-description").css({"background-image":"url("+
f+")","background-size":g})}catch(k){a.captionMatchWidthForceNo=!0,f=b.closest(".jig-imageContainer"),f.find(".jig-cw-role-effect .jig-caption").remove(),f.find(".jig-caption-title").css({display:"block"}),b.appendTo(e)}O(N(e))}},N=function(b,c){var e={};e.roleEffect=b.eq(0).closest(".jig-caption-wrapper");if(0===e.roleEffect.length)return!1;if("no"==a.captionMatchWidth||a.captionMatchWidthForceNo)e.roleEffect.hasClass("jig-cw-role-effect")?e.roleReal=e.roleEffect.siblings(".jig-cw-role-real"):(e.roleReal=
e.roleEffect,e.roleEffect=e.roleEffect.siblings(".jig-cw-role-effect")),c&&(e.fadeZeroHeight=c),e.captionElement=e.roleReal.find(".jig-caption");else{e.roleEffect=e.roleEffect.filter(".jig-cw-role-effect");if(!e.roleEffect.hasClass("jig-cw-role-effect"))return!1;e.img=e.roleEffect.siblings("img");e.captionTitle=e.roleEffect.find(".jig-caption-title");e.captionDescription=e.roleEffect.find(".jig-caption-description")}return e},O=function(b){if(!1===b)return!1;if("no"==a.captionMatchWidth||a.captionMatchWidthForceNo){var c=
b.roleReal.position();0!==b.roleReal.height()?(b.roleEffect.css({height:b.captionElement.height()+"px"}).find(".jig-pixastic").css({top:-c.top+"px"}),b.fadeZeroHeight&&b.roleEffect.css({opacity:b.captionElement.css("opacity")})):b.roleEffect.find(".jig-pixastic").css({top:-c.top+"px"})}else{var c=b.roleEffect.position(),e=b.captionTitle.position(),f=b.captionDescription.position(),d=parseInt(b.img.css("margin-left"),10);e&&b.captionTitle.css({"background-position":d-e.left+"px "+-c.top+"px"});f&&
b.captionDescription.css({"background-position":d+"px "+(-f.top-c.top)+"px"})}},P=function(b,c){var e=b.find(".jig-caption-wrapper"),d=e.find(".jig-caption-title"),e=e.find(".jig-caption-description"),g=a.captionHeight,h={remove:" -,;.!?".split(""),noEllipsis:[]};c&&(0!==d.length&&d.triggerHandler("isTruncated.dot")&&d.trigger("destroy.dot"),0!==e.length&&e.triggerHandler("isTruncated.dot")&&e.trigger("destroy.dot"));0!==d.length&&(d.outerHeight()>a.captionHeight&&d.dotdotdot({height:a.captionHeight-
(d.outerHeight()-d.height()),lastCharacter:h}),g-=d.outerHeight());0!==e.length&&e.outerHeight(!0)>g&&e.dotdotdot({height:g-(e.outerHeight()-e.height()),lastCharacter:h})};a.errorChecked=!1;var U=function(){0<d(".jig-unloadable").length&&(a.errorChecked=!0,a.element.find(".jig-unloadable").remove(),t.createGallery("errorCheck"))};t.init()};d.fn.justifiedImageGrid=function(n){return this.each(function(){if(void 0===d(this).data("justifiedImageGrid")){var x=new d.justifiedImageGrid(this,n);d(this).data("justifiedImageGrid",
x)}})};d.extend(d.easing,{JIGswing:function(d){return.5-Math.cos(d*Math.PI)/2},JIGeaseInOutQuad:function(d){return.5>d?2*d*d:1-Math.pow(-2*d+2,2)/2}});d.fn.JIGhoverFlow=function(n,x,q,m,v){if(-1==d.inArray(n,["mouseover","mouseenter","mouseout","mouseleave"]))return this;var y="object"===typeof q?q:{complete:v||!v&&m||d.isFunction(q)&&q,duration:q,easing:v&&m||m&&!d.isFunction(m)&&m};"undefined"==typeof y.easing&&(y.easing="JIGswing");y.queue=!1;var h=y.complete;y.complete=function(){d(this).dequeue();
d.isFunction(h)&&h.call(this)};return this.each(function(){var h=d(this);"mouseover"==n||"mouseenter"==n?h.data("jQuery.JIGhoverFlow",!0):h.removeData("jQuery.JIGhoverFlow");h.queue(function(){("mouseover"==n||"mouseenter"==n?void 0!==h.data("jQuery.JIGhoverFlow"):void 0===h.data("jQuery.JIGhoverFlow"))?h.animate(x,y):h.queue([])})})};(function(d){var n=function(d,t){return d-t},q=function(d){4===d.length&&(d=d.replace(/(\w)(\w)(\w)/gi,"$1$1$2$2$3$3"));d=/(\w{2})(\w{2})(\w{2})/.exec(d);return[parseInt(d[1],
16),parseInt(d[2],16),parseInt(d[3],16)]},m=function(d){return"#"+jQuery.map(d,function(d){d=d.toString(16);return d=1===d.length?"0"+d:d}).join("")},v=function(d,n){return jQuery.map(q(d.end),function(a,h){return(a-q(d.start)[h])/n})},y=function(d,n,a){d=jQuery.map(q(d.start),function(d,h){var m=Math.round(d+n[h]*a);255<m?m=255:0>m&&(m=0);return m});return m(d)};d.fn.tagcloud=function(h){var m=d.extend({},d.fn.tagcloud.defaults,h);h=this.map(function(){return d(this).attr("rel")});h=jQuery.makeArray(h).sort(n);
var a=h[0];h=h.pop()-a;0===h&&(h=1);var q,x;m.size&&(q=(m.size.end-m.size.start)/h);m.color&&(x=v(m.color,h));return this.each(function(){var h=d(this).attr("rel")-a;m.size&&d(this).css({"font-size":m.size.start+h*q+m.size.unit});m.color&&d(this).css({color:y(m.color,x,h)})})};d.fn.tagcloud.defaults={size:{start:14,end:18,unit:"pt"}}})(jQuery);d.JIGjQueryMinVersion=function(n,x){if(n){var q=d().jquery,m=n.split("."),v=q.split("."),q=[],y=[],h=!1;q[0]=isNaN(parseInt(m[0],10))?0:parseInt(m[0],10);q[1]=
isNaN(parseInt(m[1],10))?0:parseInt(m[1],10);q[2]=isNaN(parseInt(m[2],10))?0:parseInt(m[2],10);q[3]=isNaN(parseInt(m[3],10))?0:parseInt(m[3],10);y[0]=isNaN(parseInt(v[0],10))?0:parseInt(v[0],10);y[1]=isNaN(parseInt(v[1],10))?0:parseInt(v[1],10);y[2]=isNaN(parseInt(v[2],10))?0:parseInt(v[2],10);y[3]=isNaN(parseInt(v[3],10))?0:parseInt(v[3],10);for(m=0;4>m;m++)if(q[m]<=y[m]){if(h=!0,q[m]!=y[m])break}else{h=!1;break}if(!0===h)return!0;!0===x&&d(".justified-image-grid").html('<span style="color:red;font-weight:bold">Your jQuery version ('+
d().jquery+") is old, this plugin needs at least 1.7, please go to the plugin settings and choose another jQuery source. If this does not work then your theme or a plugin is not using WordPress best practices and forces the loading of an old version. In that case contact the author of Justified Image Grid.</span>")}return!1}}(function(){loadJustifiedImageGrid(jQuery)})();