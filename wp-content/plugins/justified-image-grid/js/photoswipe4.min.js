/*
 PhotoSwipe - v4.1.2 - 2017-04-05
 http://photoswipe.com
 Copyright (c) 2017 Dmitry Semenov;  PhotoSwipe Default UI - 4.1.2 - 2017-04-05
 http://photoswipe.com
 Copyright (c) 2017 Dmitry Semenov;  JIGphotoSwipe(); jQuery wrapper made exclusively for JIG v3.7 by Firsh
   Additional changes to original PhotoSwipe:
   photoswipe-ui-default.js
    _updateShareURLs
    ui.update
   photoswipe.js - affected functions:
    publicMethods init (just an if at "add classes to root element of PhotoSwipe")
    init > _globalEventHandlers > _orientationChangeTimeout2
    History
     _parseItemIndexFromURL
     _updateHash
     publicMethods:
      initHistory
      onHashChange
*/
(function(d,g){"function"===typeof define&&define.amd?define(g):"undefined"!==typeof module&&"object"===typeof exports?module.exports=g():d.PhotoSwipe=g()})(this,function(){return function(d,g,p,qa){var f={features:null,bind:function(a,b,c,k){k=(k?"remove":"add")+"EventListener";b=b.split(" ");for(var e=0;e<b.length;e++)if(b[e])a[k](b[e],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");a&&(c.className=a);return c},getScrollY:function(){var a=
window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){f.bind(a,b,c,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){f.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(f.hasClass(c,
b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var k=a.length;k--;)if(a[k][c]===b)return k;return-1},extend:function(a,b,c){for(var k in b)!b.hasOwnProperty(k)||c&&a.hasOwnProperty(k)||(a[k]=b[k])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(f.features)return f.features;var a=f.createEl().style,b="",c={};c.oldIE=document.all&&!document.addEventListener;
c.touch="ontouchstart"in window;window.requestAnimationFrame&&(c.raf=window.requestAnimationFrame,c.caf=window.cancelAnimationFrame);c.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled;if(!c.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var k=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);k&&0<k.length&&(k=parseInt(k[1],10),1<=k&&8>k&&(c.isOldIOSPhone=!0))}k=(k=b.match(/Android\s([0-9\.]*)/))?k[1]:0;k=parseFloat(k);1<=k&&(4.4>k&&(c.isOldAndroid=
!0),c.androidVersion=k);c.isMobileOpera=/opera mini|opera mobi/i.test(b)}for(var k=["transform","perspective","animationName"],e=["","webkit","Moz","ms","O"],d,m,h=0;4>h;h++){for(var b=e[h],g=0;3>g;g++)d=k[g],m=b+(b?d.charAt(0).toUpperCase()+d.slice(1):d),!c[d]&&m in a&&(c[d]=m);b&&!c.raf&&(b=b.toLowerCase(),c.raf=window[b+"RequestAnimationFrame"],c.raf&&(c.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!c.raf){var l=0;c.raf=function(a){var b=(new Date).getTime(),
c=Math.max(0,16-(b-l)),k=window.setTimeout(function(){a(b+c)},c);l=b+c;return k};c.caf=function(a){clearTimeout(a)}}c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;return f.features=c}};f.detectFeatures();f.features.oldIE&&(f.bind=function(a,b,c,k){b=b.split(" ");for(var e=(k?"detach":"attach")+"Event",d,m=function(){c.handleEvent.call(c)},f=0;f<b.length;f++)if(d=b[f])if("object"===typeof c&&c.handleEvent){if(!k)c["oldIE"+d]=m;else if(!c["oldIE"+
d])return!1;a[e]("on"+d,c["oldIE"+d])}else a[e]("on"+d,c)});var e=this,h={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.33},maxSpreadZoom:1.33,
modal:!0,scaleMode:"fit"};f.extend(h,qa);var B=function(){return{x:0,y:0}},x,ra,Ga,n,N,Q,G=B(),r=B(),l=B(),ga,sa,C,q={},u,R,Ha,X,Ia,ta,J=0,ha={},H=B(),z,Ja,I=0,ia,ja,ka,Ka,V,ba,La=!0,W,la=[],Ma,m,y,Tb,wb,ua,w,Va={},va=!1,xb,yb,Wa=function(a,b){f.extend(e,b.publicMethods);la.push(a)},jb=function(a){var b=O();return a>b-1?a-b:0>a?b+a:a},Xa={},A=function(a,b){Xa[a]||(Xa[a]=[]);return Xa[a].push(b)},v=function(a){var b=Xa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var k=0;k<b.length;k++)b[k].apply(e,
c)}},Y=function(){return(new Date).getTime()},ca=function(a){kb=a;e.bg.style.opacity=a*h.bgOpacity},Ub=function(a,b,c,k,d){if(!va||d&&d!==e.currItem)k/=d?d.fitRatio:e.currItem.fitRatio;a[V]=Ha+b+"px, "+c+"px"+X+" scale("+k+")"},D=function(a){da&&(a&&(u>e.currItem.fitRatio?va||(wa(e.currItem,!1,!0),va=!0):va&&(wa(e.currItem),va=!1)),Ub(da,l.x,l.y,u))},Ya=function(a){a.container&&Ub(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Na=function(a,b){b[V]=Ha+a+"px, 0px"+
X},lb=function(a,b){if(!h.loop&&b){var c=n+(H.x*J-a)/H.x,k=Math.round(a-ea.x);if(0>c&&0<k||c>=O()-1&&0>k)a=ea.x+k*h.mainScrollEndFriction}ea.x=a;Na(a,N)},zb=function(a,b){var c=Za[a]-ha[a];return r[a]+G[a]+c-b/R*c},K=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Vb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},Ab=null,Bb=function(){Ab&&(f.unbind(document,"mousemove",Bb),f.addClass(d,"pswp--has_mouse"),h.mouseUsed=!0,v("mouseUsed"));Ab=setTimeout(function(){Ab=null},100)},Cb=function(a,b){var c=
$a(e.currItem,q,a);b&&(t=c);return c},Wb=function(a){a||(a=e.currItem);return a.initialZoomLevel},Xb=function(a){a||(a=e.currItem);return 0<a.w?h.maxSpreadZoom:1},Yb=function(a,b,c,k){if(k===e.currItem.initialZoomLevel)return c[a]=e.currItem.initialPosition[a],!0;c[a]=zb(a,k);return c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1},qc=function(){V?(Ha="translate"+(w.perspective&&!W?"3d(":"("),X=w.perspective?", 0px)":")"):(V="left",f.addClass(d,"pswp--ie"),Na=function(a,b){b.left=
a+"px"},Ya=function(a){var b=1<a.fitRatio?1:a.fitRatio,c=a.container.style,k=b*a.h;c.width=b*a.w+"px";c.height=k+"px";c.left=a.initialPosition.x+"px";c.top=a.initialPosition.y+"px"},D=function(){if(da){var a=da,b=e.currItem,c=1<b.fitRatio?1:b.fitRatio,k=c*b.h;a.width=c*b.w+"px";a.height=k+"px";a.left=l.x+"px";a.top=l.y+"px"}})},rc=function(a){var b="";h.escKey&&27===a.keyCode?b="close":h.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next"));!b||a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||
(a.preventDefault?a.preventDefault():a.returnValue=!1,e[b]())},sc=function(a){a&&(Oa||xa||L||ab)&&(a.preventDefault(),a.stopPropagation())},Zb=function(){e.setScrollOffset(0,f.getScrollY())},P={},Pa=0,bb=function(a){P[a]&&(P[a].raf&&m(P[a].raf),Pa--,delete P[a])},Db=function(a){P[a]&&bb(a);P[a]||(Pa++,P[a]={})},cb=function(){for(var a in P)P.hasOwnProperty(a)&&bb(a)},db=function(a,b,c,k,e,d,m){var f=Y(),h;Db(a);var g=function(){P[a]&&(h=Y()-f,h>=k?(bb(a),d(c),m&&m()):(d((c-b)*e(h/k)+b),P[a].raf=Ma(g)))};
g()},tc={shout:v,listen:A,viewportSize:q,options:h,isMainScrollAnimating:function(){return L},getZoomLevel:function(){return u},getCurrentIndex:function(){return n},isDragging:function(){return Z},isZooming:function(){return fa},setScrollOffset:function(a,b){ha.x=a;ua=ha.y=b;v("updateScrollOffset",ha)},applyZoomPan:function(a,b,c,k){l.x=b;l.y=c;u=a;D(k)},init:function(){if(!x&&!ra){e.framework=f;e.template=d;e.bg=f.getChildByClass(d,"pswp__bg");y=d.className;x=!0;w=f.detectFeatures();Ma=w.raf;m=w.caf;
V=w.transform;wb=w.oldIE;e.scrollWrap=f.getChildByClass(d,"pswp__scroll-wrap");e.container=f.getChildByClass(e.scrollWrap,"pswp__container");N=e.container.style;e.itemHolders=z=[{el:e.container.children[0],wrap:0,index:-1},{el:e.container.children[1],wrap:0,index:-1},{el:e.container.children[2],wrap:0,index:-1}];z[0].el.style.display=z[2].el.style.display="none";qc();C={resize:e.updateSize,orientationchange:function(){clearTimeout(xb);xb=setTimeout(function(){q.x!==e.scrollWrap.clientWidth&&e.updateSize()},
500);clearTimeout(yb);yb=setTimeout(function(){q.x!==e.scrollWrap.clientWidth&&e.updateSize()},1E3)},scroll:Zb,keydown:rc,click:sc};var a=w.isOldIOSPhone||w.isOldAndroid||w.isMobileOpera;w.animationName&&w.transform&&!a||(h.showAnimationDuration=h.hideAnimationDuration=0);for(a=0;a<la.length;a++)e["init"+la[a]]();g&&(e.ui=new g(e,f)).init();v("firstUpdate");n=n||h.index||0;if(isNaN(n)||0>n||n>=O())n=0;e.currItem=ya(n);if(w.isOldIOSPhone||w.isOldAndroid)La=!1;d.setAttribute("aria-hidden","false");
h.modal&&(La?d.style.position="fixed":(d.style.position="absolute",d.style.top=f.getScrollY()+"px"));void 0===ua&&(v("initialLayout"),ua=Tb=f.getScrollY());a="pswp--open ";h.mainClass&&(a+=h.mainClass+" ");h.showHideOpacity&&(a+="pswp--animate_opacity ");a+=W?"pswp--touch":"pswp--notouch";a+=w.animationName?" pswp--css_animation":"";a+=w.svg?" pswp--svg":"";1===h.maxSpreadZoom&&!1===h.pinchToClose&&!1===h.zoomEl&&(a+=" pswp--zoom-prevented");f.addClass(d,a);e.updateSize();Q=-1;I=null;for(a=0;3>a;a++)Na((a+
Q)*H.x,z[a].el.style);wb||f.bind(e.scrollWrap,sa,e);A("initialZoomInEnd",function(){e.setContent(z[0],n-1);e.setContent(z[2],n+1);z[0].el.style.display=z[2].el.style.display="block";h.focus&&d.focus();f.bind(document,"keydown",e);w.transform&&f.bind(e.scrollWrap,"click",e);h.mouseUsed||f.bind(document,"mousemove",Bb);f.bind(window,"resize scroll orientationchange",e);v("bindEvents")});e.setContent(z[1],n);e.updateCurrItem();v("afterInit");La||(Ia=setInterval(function(){Pa||Z||fa||u!==e.currItem.initialZoomLevel||
e.updateSize()},1E3));f.addClass(d,"pswp--visible")}},close:function(){x&&(x=!1,ra=!0,v("close"),f.unbind(window,"resize scroll orientationchange",e),f.unbind(window,"scroll",C.scroll),f.unbind(document,"keydown",e),f.unbind(document,"mousemove",Bb),w.transform&&f.unbind(e.scrollWrap,"click",e),Z&&f.unbind(window,ga,e),clearTimeout(xb),clearTimeout(yb),v("unbindEvents"),$b(e.currItem,null,!0,e.destroy))},destroy:function(){v("destroy");za&&clearTimeout(za);d.setAttribute("aria-hidden","true");d.className=
y;Ia&&clearInterval(Ia);f.unbind(e.scrollWrap,sa,e);f.unbind(window,"scroll",e);Eb();cb();Xa=null},panTo:function(a,b,c){c||(a>t.min.x?a=t.min.x:a<t.max.x&&(a=t.max.x),b>t.min.y?b=t.min.y:b<t.max.y&&(b=t.max.y));l.x=a;l.y=b;D()},handleEvent:function(a){a=a||window.event;if(C[a.type])C[a.type](a)},goTo:function(a){a=jb(a);var b=a-n;I=b;n=a;e.currItem=ya(n);J-=b;lb(H.x*J);cb();L=!1;e.updateCurrItem()},next:function(){e.goTo(n+1)},prev:function(){e.goTo(n-1)},updateCurrZoomItem:function(a){a&&v("beforeChange",
0);if(z[1].el.children.length){var b=z[1].el.children[0];da=f.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;t=e.currItem.bounds;R=u=e.currItem.initialZoomLevel;l.x=t.center.x;l.y=t.center.y;a&&v("afterChange")},invalidateCurrItems:function(){ta=!0;for(var a=0;3>a;a++)z[a].item&&(z[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==I){var b=Math.abs(I);if(!(a&&2>b)){e.currItem=ya(n);va=!1;v("beforeChange",I);3<=b&&(Q+=I+(0<I?-3:3),b=3);for(var c=0;c<b;c++)0<I?(a=z.shift(),z[2]=a,
Q++,Na((Q+2)*H.x,a.el.style),e.setContent(a,n-b+c+1+1)):(a=z.pop(),z.unshift(a),Q--,Na(Q*H.x,a.el.style),e.setContent(a,n+b-c-1-1));da&&1===Math.abs(I)&&(b=ya(Ja),b.initialZoomLevel!==u&&($a(b,q),wa(b),Ya(b)));I=0;e.updateCurrZoomItem();Ja=n;v("afterChange")}}},updateSize:function(a){if(!La&&h.modal){var b=f.getScrollY();ua!==b&&(d.style.top=b+"px",ua=b);if(!a&&Va.x===window.innerWidth&&Va.y===window.innerHeight)return;Va.x=window.innerWidth;Va.y=window.innerHeight;d.style.height=Va.y+"px"}q.x=e.scrollWrap.clientWidth;
q.y=e.scrollWrap.clientHeight;Zb();H.x=q.x+Math.round(q.x*h.spacing);H.y=q.y;lb(H.x*J);v("beforeResize");if(void 0!==Q){for(var c,k=0;3>k;k++)a=z[k],Na((k+Q)*H.x,a.el.style),c=n+k-1,h.loop&&2<O()&&(c=jb(c)),(b=ya(c))&&(ta||b.needsUpdate||!b.bounds)?(e.cleanSlide(b),e.setContent(a,c),1===k&&(e.currItem=b,e.updateCurrZoomItem(!0)),b.needsUpdate=!1):-1===a.index&&0<=c&&e.setContent(a,c),b&&b.container&&($a(b,q),wa(b),Ya(b));ta=!1}R=u=e.currItem.initialZoomLevel;if(t=e.currItem.bounds)l.x=t.center.x,
l.y=t.center.y,D(!0);v("resize")},zoomTo:function(a,b,c,k,e){b&&(R=u,Za.x=Math.abs(b.x)-l.x,Za.y=Math.abs(b.y)-l.y,K(r,l));b=Cb(a,!1);var d={};Yb("x",b,d,a);Yb("y",b,d,a);var m=u,h=l.x,g=l.y;Vb(d);b=function(b){1===b?(u=a,l.x=d.x,l.y=d.y):(u=(a-m)*b+m,l.x=(d.x-h)*b+h,l.y=(d.y-g)*b+g);e&&e(b);D(1===b)};c?db("customZoomTo",0,1,c,k||f.easing.sine.inOut,b):b(1)}},ac,mb,E={},aa={},F={},M={},Qa={},ma=[],Aa={},eb,Ba=[],Fb,Gb,Hb,ab,fb,nb=0,gb=B(),Ib=0,Z,Jb,xa,Oa,ob,Ca,S,fa,bc,t,ea=B(),da,L,Za=B(),Da=B(),
na,Kb,pb,kb,qb,cc=function(a,b){Fb=Math.abs(a.x-b.x);Gb=Math.abs(a.y-b.y);return Math.sqrt(Fb*Fb+Gb*Gb)},Eb=function(){ob&&(m(ob),ob=null)},dc=function(){if(Z&&(ob=Ma(dc),S)){var a=S.length;if(0!==a)if(K(E,S[0]),F.x=E.x-M.x,F.y=E.y-M.y,fa&&1<a){M.x=E.x;M.y=E.y;if(a=!F.x&&!F.y)a=S[1],a=a.x===aa.x&&a.y===aa.y;if(!a){K(aa,S[1]);xa||(xa=!0,v("zoomGestureStarted"));a=cc(E,aa);a=1/bc*a*R;a>e.currItem.initialZoomLevel+e.currItem.initialZoomLevel/15&&(qb=!0);var b=Wb(),c=Xb();a<b?h.pinchToClose&&!qb&&R<=
e.currItem.initialZoomLevel?(b=1-(b-a)/(b/1.2),ca(b),v("onPinchClose",b),pb=!0):(a=(b-a)/b,1<a&&(a=1),a=b-b/3*a):a>c&&(a=(a-c)/(6*b),1<a&&(a=1),a=c+a*b);gb.x=.5*(E.x+aa.x);gb.y=.5*(E.y+aa.y);G.x+=gb.x-Da.x;G.y+=gb.y-Da.y;K(Da,gb);l.x=zb("x",a);l.y=zb("y",a);Hb=a>u;u=a;D()}}else if(na&&(Kb&&(Kb=!1,10<=Math.abs(F.x)&&(F.x-=S[0].x-Qa.x),10<=Math.abs(F.y)&&(F.y-=S[0].y-Qa.y)),M.x=E.x,M.y=E.y,0!==F.x||0!==F.y))if("v"===na&&h.closeOnVerticalDrag&&"fit"===h.scaleMode&&u===e.currItem.initialZoomLevel)G.y+=
F.y,l.y+=F.y,a=ec(),ab=!0,v("onVerticalDrag",a),ca(a),D();else{a=Y();b=E.x;c=E.y;if(50<a-mb){var k=2<Ba.length?Ba.shift():{};k.x=b;k.y=c;Ba.push(k);mb=a}Oa=!0;t=e.currItem.bounds;fc("x",F)||(fc("y",F),Vb(l),D())}}},gc=function(a,b){return!a||a===document||a.getAttribute("class")&&-1<a.getAttribute("class").indexOf("pswp__scroll-wrap")?!1:b(a)?a:gc(a.parentNode,b)},Lb={},hc=function(a,b){Lb.prevent=!gc(a.target,h.isClickableElement);v("preventDragEvent",a,b,Lb);return Lb.prevent},ic=function(a,b){b.x=
a.pageX;b.y=a.pageY;b.id=a.identifier;return b},ec=function(){return 1-Math.abs((l.y-e.currItem.initialPosition.y)/(q.y/2))},hb={},uc={},oa=[],rb,Mb=function(a){for(;0<oa.length;)oa.pop();ba?(rb=0,ma.forEach(function(a){0===rb?oa[0]=a:1===rb&&(oa[1]=a);rb++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(oa[0]=ic(a.touches[0],hb),1<a.touches.length&&(oa[1]=ic(a.touches[1],uc))):(hb.x=a.pageX,hb.y=a.pageY,hb.id="",oa[0]=hb);return oa},fc=function(a,b){var c=l[a]+b[a],k=0<b[a],d=ea.x+
b.x,m=ea.x-Aa.x,f;var g=c>t.min[a]||c<t.max[a]?h.panEndFriction:1;c=l[a]+b[a]*g;if(h.allowPanToNext||u===e.currItem.initialZoomLevel){if(!da)var y=d;else if("h"===na&&"x"===a&&!xa)if(k){if(c>t.min[a]){g=h.panEndFriction;var n=t.min[a]-r[a]}(0>=n||0>m)&&1<O()?(y=d,0>m&&d>Aa.x&&(y=Aa.x)):t.min.x!==t.max.x&&(f=c)}else c<t.max[a]&&(g=h.panEndFriction,n=r[a]-t.max[a]),(0>=n||0<m)&&1<O()?(y=d,0<m&&d<Aa.x&&(y=Aa.x)):t.min.x!==t.max.x&&(f=c);if("x"===a)return void 0!==y&&(lb(y,!0),Ca=y===Aa.x?!1:!0),t.min.x!==
t.max.x&&(void 0!==f?l.x=f:Ca||(l.x+=b.x*g)),void 0!==y}L||Ca||u>e.currItem.fitRatio&&(l[a]+=b[a]*g)},vc=function(a){if(!("mousedown"===a.type&&0<a.button))if(Ra)a.preventDefault();else if(!fb||"mousedown"!==a.type){hc(a,!0)&&a.preventDefault();v("pointerDown");if(ba){var b=f.arraySearch(ma,a.pointerId,"id");0>b&&(b=ma.length);ma[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=Mb(a);b=a.length;S=null;cb();Z&&1!==b||(Z=Kb=!0,f.bind(window,ga,e),Hb=qb=pb=ab=Ca=Oa=Jb=xa=!1,na=null,v("firstTouchStart",a),K(r,
l),G.x=G.y=0,K(M,a[0]),K(Qa,M),Aa.x=H.x*J,Ba=[{x:M.x,y:M.y}],mb=ac=Y(),Cb(u,!0),Eb(),dc());!fa&&1<b&&!L&&!Ca&&(R=u,xa=!1,fa=Jb=!0,G.y=G.x=0,K(r,l),K(E,a[0]),K(aa,a[1]),Da.x=.5*(E.x+aa.x),Da.y=.5*(E.y+aa.y),Za.x=Math.abs(Da.x)-l.x,Za.y=Math.abs(Da.y)-l.y,bc=cc(E,aa))}},wc=function(a){a.preventDefault();if(ba){var b=f.arraySearch(ma,a.pointerId,"id");-1<b&&(b=ma[b],b.x=a.pageX,b.y=a.pageY)}Z&&(a=Mb(a),na||Oa||fa?S=a:ea.x!==H.x*J?na="h":(b=Math.abs(a[0].x-M.x)-Math.abs(a[0].y-M.y),10<=Math.abs(b)&&(na=
0<b?"h":"v",S=a)))},Bc=function(a){if(w.isOldAndroid){if(fb&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(fb),fb=setTimeout(function(){fb=0},600))}v("pointerUp");hc(a,!1)&&a.preventDefault();if(ba){var b=f.arraySearch(ma,a.pointerId,"id");if(-1<b){var c=ma.splice(b,1)[0];navigator.pointerEnabled?c.type=a.pointerType||"mouse":(c.type={4:"mouse",2:"touch",3:"pen"}[a.pointerType],c.type||(c.type=a.pointerType||"mouse"))}}var k=Mb(a),b=k.length;"mouseup"===a.type&&(b=0);if(2===
b)return S=null,!0;1===b&&K(Qa,k[0]);0!==b||na||L||(c||("mouseup"===a.type?c={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(c={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),v("touchRelease",a,c));a=-1;0===b&&(Z=!1,f.unbind(window,ga,e),Eb(),fa?a=0:-1!==Ib&&(a=Y()-Ib));Ib=1===b?Y():-1;a=-1!==a&&150>a?"zoom":"swipe";fa&&2>b&&(fa=!1,1===b&&(a="zoomPointerUp"),v("zoomGestureEnded"));S=null;if(Oa||xa||L||ab)if(cb(),eb||(eb=xc()),eb.calculateSwipeSpeed("x"),
ab)if(ec()<h.verticalDragRange)e.close();else{var d=l.y,m=kb;db("verticalDrag",0,1,300,f.easing.cubic.out,function(a){l.y=(e.currItem.initialPosition.y-d)*a+d;ca((1-m)*a+m);D()});v("onVerticalDrag",1)}else{if((Ca||L)&&0===b){if(yc(a,eb))return;a="zoomPointerUp"}L||("swipe"!==a?zc():!Ca&&u>e.currItem.fitRatio&&Ac(eb))}},xc=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},
backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(k){1<Ba.length?(a=Y()-mb+50,b=Ba[Ba.length-2][k]):(a=Y()-ac,b=Qa[k]);c.lastFlickOffset[k]=M[k]-b;c.lastFlickDist[k]=Math.abs(c.lastFlickOffset[k]);c.lastFlickSpeed[k]=20<c.lastFlickDist[k]?c.lastFlickOffset[k]/a:0;.1>Math.abs(c.lastFlickSpeed[k])&&(c.lastFlickSpeed[k]=0);c.slowDownRatio[k]=.95;c.slowDownRatioReverse[k]=1-c.slowDownRatio[k];c.speedDecelerationRatio[k]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||
(l[a]>t.min[a]?c.backAnimDestination[a]=t.min[a]:l[a]<t.max[a]&&(c.backAnimDestination[a]=t.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],.05>c.speedDecelerationRatioAbs[a]&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,db("bounceZoomPan"+a,l[a],c.backAnimDestination[a],b||300,f.easing.sine.out,function(b){l[a]=b;D()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]*=c.slowDownRatio[a]+c.slowDownRatioReverse[a]-
c.slowDownRatioReverse[a]*c.timeDiff/10,c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,l[a]+=c.distanceOffset[a])},panAnimLoop:function(){P.zoomPan&&(P.zoomPan.raf=Ma(c.panAnimLoop),c.now=Y(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),D(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),.05>c.speedDecelerationRatioAbs.x&&
.05>c.speedDecelerationRatioAbs.y&&(l.x=Math.round(l.x),l.y=Math.round(l.y),D(),bb("zoomPan")))}};return c},Ac=function(a){a.calculateSwipeSpeed("y");t=e.currItem.bounds;a.backAnimDestination={};a.backAnimStarted={};if(.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y))return a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0;Db("zoomPan");a.lastNow=Y();a.panAnimLoop()},yc=function(a,b){L||(nb=
n);var c;if("swipe"===a){var d=M.x-Qa.x,m=10>b.lastFlickDist.x;30<d&&(m||20<b.lastFlickOffset.x)?c=-1:-30>d&&(m||-20>b.lastFlickOffset.x)&&(c=1)}if(c){n+=c;if(0>n){n=h.loop?O()-1:0;var g=!0}else n>=O()&&(n=h.loop?0:O()-1,g=!0);if(!g||h.loop){I+=c;J-=c;var y=!0}}c=H.x*J;d=Math.abs(c-ea.x);y||c>ea.x===0<b.lastFlickSpeed.x?(d=0<Math.abs(b.lastFlickSpeed.x)?d/Math.abs(b.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333;nb===n&&(y=!1);L=!0;v("mainScrollAnimStart");db("mainScroll",ea.x,c,
d,f.easing.cubic.out,lb,function(){cb();L=!1;nb=-1;(y||nb!==n)&&e.updateCurrItem();v("mainScrollAnimComplete")});y&&e.updateCurrItem(!0);return y},zc=function(){var a=u,b=Wb(),c=Xb();u<b?a=b:u>c&&(a=c);var d,m=kb;if(pb&&!Hb&&!qb&&u<b)return e.close(),!0;pb&&(d=function(a){ca((1-m)*a+m)});e.zoomTo(a,0,200,f.easing.cubic.out,d);return!0};Wa("Gestures",{publicMethods:{initGestures:function(){var a=function(a,c,d,e,m){ia=a+c;ja=a+d;ka=a+e;Ka=m?a+m:""};(ba=w.pointerEvent)&&w.touch&&(w.touch=!1);ba?navigator.pointerEnabled?
a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):w.touch?(a("touch","start","move","end","cancel"),W=!0):a("mouse","down","move","up");ga=ja+" "+ka+" "+Ka;sa=ia;ba&&!W&&(W=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);e.likelyTouchDevice=W;C[ia]=vc;C[ja]=wc;C[ka]=Bc;Ka&&(C[Ka]=C[ka]);w.touch&&(sa+=" mousedown",ga+=" mousemove mouseup",C.mousedown=C[ia],C.mousemove=C[ja],C.mouseup=C[ka]);W||(h.allowPanToNext=!1)}}});var za,$b=function(a,b,c,k){za&&clearTimeout(za);
Nb=Ra=!0;if(a.initialLayout){var m=a.initialLayout;a.initialLayout=null}else m=h.getThumbBoundsFn&&h.getThumbBoundsFn(n);var g=c?h.hideAnimationDuration:h.showAnimationDuration,y=function(){bb("initialZoom");c?(e.template.removeAttribute("style"),e.bg.removeAttribute("style")):(ca(1),b&&(b.style.display="block"),f.addClass(d,"pswp--animated-in"),v("initialZoom"+(c?"OutEnd":"InEnd")));k&&k();Ra=!1};g&&m&&void 0!==m.x?function(){var b=Ga,k=!e.currItem.src||e.currItem.loadError||h.showHideOpacity;a.miniImg&&
(a.miniImg.style.webkitBackfaceVisibility="hidden");c||(u=m.w/a.w,l.x=m.x,l.y=m.y-Tb,e[k?"template":"bg"].style.opacity=.001,D());Db("initialZoom");c&&!b&&f.removeClass(d,"pswp--animated-in");if(k)if(c)f[(b?"remove":"add")+"Class"](d,"pswp--animate_opacity");else setTimeout(function(){f.addClass(d,"pswp--animate_opacity")},30);za=setTimeout(function(){v("initialZoom"+(c?"Out":"In"));if(c){var e=m.w/a.w,h=l.x,n=l.y,q=u,r=kb,p=function(a){1===a?(u=e,l.x=m.x,l.y=m.y-ua):(u=(e-q)*a+q,l.x=(m.x-h)*a+h,
l.y=(m.y-ua-n)*a+n);D();k?d.style.opacity=1-a:ca(r-a*r)};b?db("initialZoom",0,1,g,f.easing.cubic.out,p,y):(p(1),za=setTimeout(y,g+20))}else u=a.initialZoomLevel,K(l,a.initialPosition),D(),ca(1),k?d.style.opacity=1:ca(1),za=setTimeout(y,g+20)},c?25:90)}():(v("initialZoom"+(c?"Out":"In")),u=a.initialZoomLevel,K(l,a.initialPosition),D(),d.style.opacity=c?0:1,ca(1),g?setTimeout(function(){y()},g):y())},Sa,Ta,Ua,Ea=[],Nb,Ra,Cc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',
forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Sa.length}},ya,O,jc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},$a=function(a,b,c){if(a.src&&!a.loadError){var d=!c;d&&(a.vGap||(a.vGap={top:0,bottom:0}),v("parseVerticalMargin",a));Ta=b.x;Ua=b.y-a.vGap.top-a.vGap.bottom;if(d){b=Ta/a.w;var e=Ua/a.h;a.fitRatio=b<e?b:e;b=h.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=jc())}if(!c)return;b=a.w*c;var e=
a.h*c,m=a.bounds;m.center.x=Math.round((Ta-b)/2);m.center.y=Math.round((Ua-e)/2)+a.vGap.top;m.max.x=b>Ta?Math.round(Ta-b):m.center.x;m.max.y=e>Ua?Math.round(Ua-e)+a.vGap.top:m.center.y;m.min.x=b>Ta?0:m.center.x;m.min.y=e>Ua?a.vGap.top:m.center.y;d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center)}else a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=jc(),a.initialPosition=a.bounds.center;return a.bounds},sb=function(a,b,c,d,m,f){!b.loadError&&d&&(b.imageAppended=!0,wa(b,d,b===e.currItem&&
va),c.appendChild(d),f&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},kc=function(a){a.loading=!0;a.loaded=!1;var b=a.img=f.createEl("pswp__img","img"),c=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};b.onload=c;b.onerror=function(){a.loadError=!0;c()};b.src=a.src;return b},lc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=
h.errorMsg.replace("%url%",a.src),!0},wa=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio);c=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=c+"px");b.style.width=d+"px";b.style.height=c+"px"}},mc=function(){if(Ea.length){for(var a,b=0;b<Ea.length;b++)a=Ea[b],a.holder.index===a.index&&sb(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);Ea=[]}};Wa("Controller",{publicMethods:{lazyLoadItem:function(a){a=
jb(a);var b=ya(a);b&&(!b.loaded&&!b.loading||ta)&&(v("gettingData",a,b),b.src&&kc(b))},initController:function(){f.extend(h,Cc,!0);e.items=Sa=p;ya=e.getItemAt;O=h.getNumItemsFn;3>O()&&(h.loop=!1);A("beforeChange",function(a){var b=h.preload;a=null===a?!0:0<=a;var c=Math.min(b[0],O()),b=Math.min(b[1],O()),d;for(d=1;d<=(a?b:c);d++)e.lazyLoadItem(n+d);for(d=1;d<=(a?c:b);d++)e.lazyLoadItem(n-d)});A("initialLayout",function(){e.currItem.initialLayout=h.getThumbBoundsFn&&h.getThumbBoundsFn(n)});A("mainScrollAnimComplete",
mc);A("initialZoomInEnd",mc);A("destroy",function(){for(var a,b=0;b<Sa.length;b++)a=Sa[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);Ea=null})},getItemAt:function(a){return 0<=a?void 0!==Sa[a]?Sa[a]:!1:!1},allowProgressiveImg:function(){return h.forceProgressiveLoading||!W||h.mouseUsed||1200<screen.width},setContent:function(a,b){h.loop&&(b=jb(b));var c=e.getItemAt(a.index);c&&(c.container=
null);var c=e.getItemAt(b);if(c){v("gettingData",b,c);a.index=b;a.item=c;var d=c.container=f.createEl("pswp__zoom-wrap");!c.src&&c.html&&(c.html.tagName?d.appendChild(c.html):d.innerHTML=c.html);lc(c);$a(c,q);if(c.src&&!c.loadError&&!c.loaded){c.loadComplete=function(c){if(x){if(a&&a.index===b){if(lc(c,!0)){c.loadComplete=c.img=null;$a(c,q);Ya(c);a.index===n&&e.updateCurrZoomItem();return}c.imageAppended?!Ra&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):w.transform&&(L||
Ra)?Ea.push({item:c,baseDiv:d,img:c.img,index:b,holder:a,clearPlaceholder:!0}):sb(b,c,d,c.img,L||Ra,!0)}c.loadComplete=null;c.img=null;v("imageLoadComplete",b,c)}};if(f.features.transform){var m=f.createEl("pswp__img pswp__img--placeholder"+(c.msrc?"":" pswp__img--placeholder--blank"),c.msrc?"img":"");c.msrc&&(m.src=c.msrc);wa(c,m);d.appendChild(m);c.placeholder=m}c.loading||kc(c);e.allowProgressiveImg()&&(!Nb&&w.transform?Ea.push({item:c,baseDiv:d,img:c.img,index:b,holder:a}):sb(b,c,d,c.img,!0,!0))}else if(c.src&&
!c.loadError){var g=f.createEl("pswp__img","img");g.style.opacity=1;g.src=c.src;wa(c,g);sb(b,c,d,g,!0)}Nb||b!==n?Ya(c):(da=d.style,$b(c,g||c.img));a.el.innerHTML="";a.el.appendChild(d)}else a.el.innerHTML=""},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var pa,tb={},Ob=function(a,b,c){var d=document.createEvent("CustomEvent");d.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(d)};
Wa("Tap",{publicMethods:{initTap:function(){A("firstTouchStart",e.onTapStart);A("touchRelease",e.onTapRelease);A("destroy",function(){tb={};pa=null})},onTapStart:function(a){1<a.length&&(clearTimeout(pa),pa=null)},onTapRelease:function(a,b){if(b&&!Oa&&!Jb&&!Pa){if(pa&&(clearTimeout(pa),pa=null,25>Math.abs(b.x-tb.x)&&25>Math.abs(b.y-tb.y))){v("doubleTap",b);return}"mouse"===b.type?Ob(a,b,"mouse"):"BUTTON"===a.target.tagName.toUpperCase()||f.hasClass(a.target,"pswp__single-tap")?Ob(a,b):(K(tb,b),pa=
setTimeout(function(){Ob(a,b);pa=null},300))}}}});var T;Wa("DesktopZoom",{publicMethods:{initDesktopZoom:function(){wb||(W?A("mouseUsed",function(){e.setupDesktopZoom()}):e.setupDesktopZoom(!0))},setupDesktopZoom:function(a){T={};A("bindEvents",function(){f.bind(d,"wheel mousewheel DOMMouseScroll",e.handleMouseWheel)});A("unbindEvents",function(){T&&f.unbind(d,"wheel mousewheel DOMMouseScroll",e.handleMouseWheel)});e.mouseZoomedIn=!1;var b,c=function(){e.mouseZoomedIn&&(f.removeClass(d,"pswp--zoomed-in"),
e.mouseZoomedIn=!1);1>u?f.addClass(d,"pswp--zoom-allowed"):f.removeClass(d,"pswp--zoom-allowed");m()},m=function(){b&&(f.removeClass(d,"pswp--dragging"),b=!1)};A("resize",c);A("afterChange",c);A("pointerDown",function(){e.mouseZoomedIn&&(b=!0,f.addClass(d,"pswp--dragging"))});A("pointerUp",m);a||c()},handleMouseWheel:function(a){if(u<=e.currItem.fitRatio)return h.modal&&(!h.closeOnScroll||Pa||Z?a.preventDefault():V&&2<Math.abs(a.deltaY)&&(Ga=!0,e.close())),!0;a.stopPropagation();T.x=0;if("deltaX"in
a)1===a.deltaMode?(T.x=18*a.deltaX,T.y=18*a.deltaY):(T.x=a.deltaX,T.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(T.x=-.16*a.wheelDeltaX),T.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else if("detail"in a)T.y=a.detail;else return;Cb(u,!0);var b=l.x-T.x,c=l.y-T.y;(h.modal||b<=t.min.x&&b>=t.max.x&&c<=t.min.y&&c>=t.max.y)&&a.preventDefault();e.panTo(b,c)},toggleDesktopZoom:function(a){a=a||{x:q.x/2+ha.x,y:q.y/2+ha.y};var b=h.getDoubleTapZoom(!0,e.currItem),c=u===b;e.mouseZoomedIn=!c;
e.zoomTo(c?e.currItem.initialZoomLevel:b,a,333);f[(c?"remove":"add")+"Class"](d,"pswp--zoomed-in")}}});var Dc={history:!0,galleryUID:1},ib,nc,Fa,ub,Pb,oc,vb,Qb,Rb,U,pc=function(){var a="";var b=U.hash.substring(1);var c={};b=b.replace("%5B","[");b=b.replace("%5D","]");b=b.replace(/([^|])(poster=|videoplayer)/mg,"$1|$2");b=b.match(/^!([\w\-[\]]+?\/(?:(\d+)(?=\/))?(https?:\/\/[^&]*)?([A-Z]{2}\/[_\w]*)?)/im);null!==b?(a=b[1],a=a.substring(a.indexOf("/")+1,a.length),/^([A-Z]{2}\/[_\w]*)$/im.test(a)&&
(a=a.replace("/","-")),jQuery.each(p,function(b,d){if("undefined"!==typeof d.contentID&&d.contentID=="jig-contentID-"+a||d.src==a)return c.pid=b,!1}),c.pid=parseInt(c.pid,10)):c.pid=0;return c},Sb=function(){Fa&&clearTimeout(Fa);if(Pa||Z)Fa=setTimeout(Sb,500);else{ub?clearTimeout(nc):ub=!0;var a="!"+h.galleryUID+"/";if("undefined"!==typeof p[n].contentID){var b=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(p[n].contentID);null!==b&&(a+=b[1]+"/"+b[2])}else a+=p[n].src;vb?(a=U.href.split("#")[0]+"#"+
a,U.replace(a)):(-1===U.hash.indexOf(a)&&-1===U.hash.indexOf("%5B")&&-1===U.hash.indexOf("%5D")&&(Rb=!0),U.hash=a);vb=!0;nc=setTimeout(function(){ub=!1},60)}};Wa("History",{publicMethods:{initHistory:function(){f.extend(h,Dc,!0);if(h.history){U=window.location;vb=Qb=Rb=!1;A("afterChange",e.updateURL);A("unbindEvents",function(){f.unbind(window,"hashchange",e.onHashChange)});var a=function(){oc=!0;Qb||(Rb?history.back():"pushState"in history?history.pushState("",document.title,U.pathname+U.search):
U.hash="");ib&&clearTimeout(ib);Fa&&clearTimeout(Fa)};A("unbindEvents",function(){Ga&&a()});A("destroy",function(){oc||a()});A("firstUpdate",function(){n=pc().pid});setTimeout(function(){x&&f.bind(window,"hashchange",e.onHashChange)},40)}},onHashChange:function(){""===U.hash.substring(1)?(Qb=!0,e.close()):ub||(Pb=!0,e.goTo(pc().pid),Pb=!1)},updateURL:function(){ib&&clearTimeout(ib);Fa&&clearTimeout(Fa);Pb||(vb?ib=setTimeout(Sb,800):Sb())}}});f.extend(e,tc)}});
(function(d,g){"function"===typeof define&&define.amd?define(g):"undefined"!==typeof module&&"object"===typeof exports?module.exports=g():d.PhotoSwipeUI_Default=g()})(this,function(){return function(d,g){var p=this,qa=!1,f=!0,e,h,B,x,ra,Ga,n,N=!0,Q,G,r,l,ga,sa,C,q,u={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4E3,timeToIdleOutside:1E3,loadingIndicatorDelay:1E3,addCaptionHTMLFn:function(d,e){if(!d.title)return e.children[0].innerHTML="",
!1;e.children[0].innerHTML=d.title;return!0},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},
{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return d.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return d.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},R,Ha=function(d){if(R)return!0;d=d||window.event;q.timeToIdle&&q.mouseUsed&&!G&&ja();for(var e,m=(d.target||d.srcElement).getAttribute("class")||"",f,h=0;h<la.length;h++)e=la[h],e.onTap&&-1<m.indexOf("pswp__"+
e.name)&&(e.onTap(),f=!0);f&&(d.stopPropagation&&d.stopPropagation(),R=!0,setTimeout(function(){R=!1},g.features.isOldAndroid?600:30))},X=function(d,e,f){g[(f?"add":"remove")+"Class"](d,"pswp__"+e)},Ia=function(){var d=1===q.getNumItemsFn();d!==C&&(X(h,"ui--one-slide",d),C=d)},ta=function(){X(n,"share-modal--hidden",N)},J=function(){(N=!N)?(g.removeClass(n,"pswp__share-modal--fade-in"),setTimeout(function(){N&&ta()},300)):(ta(),setTimeout(function(){N||g.addClass(n,"pswp__share-modal--fade-in")},
30));N||H();return!1},ha=function(e){e=e||window.event;var m=e.target||e.srcElement;d.shout("shareLinkClick",e,m);if(!m.href)return!1;if(m.hasAttribute("download"))return!0;window.open(m.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100));N||J();return!1},H=function(){var e="",f=d.options.shareButtons,g,h;if(location.hash){var l=decodeURI(document.location.href);var q=l.split("#!");l=q[0]+"#!"+
q[1]}else l=location.href;if("undefined"!==typeof d.options.socialButtons){var r=d.options.socialButtons,f=[],r=r.toLowerCase(),r=r.split(""),q=jQuery.inArray("f",r),p=jQuery.inArray("t",r),x=jQuery.inArray("p",r),r=jQuery.inArray("g",r);~q&&(f[q]=d.options.shareButtons[0]);~p&&(f[p]=d.options.shareButtons[1]);~x&&(f[x]=d.options.shareButtons[2]);~r&&(f[r]=d.options.shareButtons[3]);"undefined"!==typeof d.options.shareButtons[4]&&f.push(d.options.shareButtons[4])}jQuery.each(f,function(m,f){"undefined"!==
typeof f&&(h=(d.currItem.title||"")+(d.currItem.description?(d.currItem.title?" ":"")+d.currItem.description:"")||document.title,g=f.url.replace("{{url}}",encodeURIComponent(l)).replace("{{facebook_url}}",encodeURIComponent(l.replace("#!",(-1===l.indexOf("?")?"?":"&")+"_escaped_fragment_="))).replace("{{image_url}}",encodeURIComponent(d.currItem.src||"")).replace("{{raw_image_url}}",d.currItem.src||"").replace("{{title}}",encodeURIComponent(d.currItem.title||document.title)).replace("{{description}}",
encodeURIComponent(jQuery("<p>"+h.replace(/<a(?:.+?)href=['"](.+?)['"](?:.+?>)(.+?)(?:<\/a>)/mg,"$2: $1")+"</p>").text())),e+='<a href="'+g+'" target="_blank" class="pswp__share--'+f.id+'"'+(f.download?"download":"")+">"+f.label+"</a>")});n.children[0].innerHTML=e;n.children[0].onclick=ha},z=function(d){for(var e=0;e<q.closeElClasses.length;e++)if(g.hasClass(d,"pswp__"+q.closeElClasses[e]))return!0},Ja,I,ia=0,ja=function(){clearTimeout(I);ia=0;G&&p.setIdle(!1)},ka=function(d){d=d?d:window.event;d=
d.relatedTarget||d.toElement;d&&"HTML"!==d.nodeName||(clearTimeout(I),I=setTimeout(function(){p.setIdle(!0)},q.timeToIdleOutside))},Ka=function(){q.preloaderEl&&(V(!0),r("beforeChange",function(){clearTimeout(sa);sa=setTimeout(function(){d.currItem&&d.currItem.loading?(!d.allowProgressiveImg()||d.currItem.img&&!d.currItem.img.naturalWidth)&&V(!1):V(!0)},q.loadingIndicatorDelay)}),r("imageLoadComplete",function(e,f){d.currItem===f&&V(!0)}))},V=function(d){ga!==d&&(X(l,"preloader--active",!d),ga=d)},
ba=function(e){var f=e.vGap;if(!d.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth){var m=q.barsSize;q.captionEl&&"auto"===m.bottom?(x||(x=g.createEl("pswp__caption pswp__caption--fake"),x.appendChild(g.createEl("pswp__caption__center")),h.insertBefore(x,B),g.addClass(h,"pswp__ui--fit")),q.addCaptionHTMLFn(e,x,!0)?f.bottom=parseInt(x.clientHeight,10)||44:f.bottom=m.top):f.bottom="auto"===m.bottom?0:m.bottom;f.top=m.top}else f.top=f.bottom=0},La=function(){q.timeToIdle&&r("mouseUsed",
function(){g.bind(document,"mousemove",ja);g.bind(document,"mouseout",ka);Ja=setInterval(function(){ia++;2===ia&&p.setIdle(!0)},q.timeToIdle/2)})},W=function(){r("onVerticalDrag",function(d){f&&.95>d?p.hideControls():!f&&.95<=d&&p.showControls()});var d;r("onPinchClose",function(e){f&&.9>e?(p.hideControls(),d=!0):d&&!f&&.9<e&&p.showControls()});r("zoomGestureEnded",function(){d=!1})},la=[{name:"caption",option:"captionEl",onInit:function(d){B=d}},{name:"share-modal",option:"shareEl",onInit:function(d){n=
d},onTap:function(){J()}},{name:"button--share",option:"shareEl",onInit:function(d){Ga=d},onTap:function(){J()}},{name:"button--zoom",option:"zoomEl",onTap:d.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(d){ra=d}},{name:"button--close",option:"closeEl",onTap:d.close},{name:"button--arrow--left",option:"arrowEl",onTap:d.prev},{name:"button--arrow--right",option:"arrowEl",onTap:d.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){e.isFullscreen()?e.exit():e.enter()}},
{name:"preloader",option:"preloaderEl",onInit:function(d){l=d}}],Ma=function(){var d,e,f,l=function(m){if(m)for(var h=m.length,l=0;l<h;l++){d=m[l];e=d.className;for(var n=0;n<la.length;n++)if(f=la[n],-1<e.indexOf("pswp__"+f.name))if(q[f.option]){if(g.removeClass(d,"pswp__element--disabled"),f.onInit)f.onInit(d)}else g.addClass(d,"pswp__element--disabled")}};l(h.children);var n=g.getChildByClass(h,"pswp__top-bar");n&&l(n.children)};p.init=function(){g.extend(d.options,u,!0);q=d.options;h=g.getChildByClass(d.scrollWrap,
"pswp__ui");r=d.listen;W();r("beforeChange",p.update);r("doubleTap",function(e){var f=d.currItem.initialZoomLevel;d.getZoomLevel()!==f?d.zoomTo(f,e,333):d.zoomTo(q.getDoubleTapZoom(!1,d.currItem),e,333)});r("preventDragEvent",function(d,e,f){(e=d.target||d.srcElement)&&e.getAttribute("class")&&-1<d.type.indexOf("mouse")&&(0<e.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(e.tagName))&&(f.prevent=!1)});r("bindEvents",function(){g.bind(h,"pswpTap click",Ha);g.bind(d.scrollWrap,
"pswpTap",p.onGlobalTap);d.likelyTouchDevice||g.bind(d.scrollWrap,"mouseover",p.onMouseOver)});r("unbindEvents",function(){N||J();Ja&&clearInterval(Ja);g.unbind(document,"mouseout",ka);g.unbind(document,"mousemove",ja);g.unbind(h,"pswpTap click",Ha);g.unbind(d.scrollWrap,"pswpTap",p.onGlobalTap);g.unbind(d.scrollWrap,"mouseover",p.onMouseOver);e&&(g.unbind(document,e.eventK,p.updateFullscreen),e.isFullscreen()&&(q.hideAnimationDuration=0,e.exit()),e=null)});r("destroy",function(){q.captionEl&&(x&&
h.removeChild(x),g.removeClass(B,"pswp__caption--empty"));n&&(n.children[0].onclick=null);g.removeClass(h,"pswp__ui--over-close");g.addClass(h,"pswp__ui--hidden");p.setIdle(!1)});q.showAnimationDuration||g.removeClass(h,"pswp__ui--hidden");r("initialZoomIn",function(){q.showAnimationDuration&&g.removeClass(h,"pswp__ui--hidden")});r("initialZoomOut",function(){g.addClass(h,"pswp__ui--hidden")});r("parseVerticalMargin",ba);Ma();q.shareEl&&Ga&&n&&(N=!0);Ia();La();q.fullscreenEl&&!g.features.isOldAndroid&&
(e||(e=p.getFullscreenAPI()),e?(g.bind(document,e.eventK,p.updateFullscreen),p.updateFullscreen(),g.addClass(d.template,"pswp--supports-fs")):g.removeClass(d.template,"pswp--supports-fs"));Ka()};p.setIdle=function(d){G=d;X(h,"ui--idle",d)};p.update=function(){f&&d.currItem?(p.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(d.currItem,B),X(B,"caption--empty",!d.currItem.title&&!d.currItem.description)),qa=!0):qa=!1;N||J();Ia()};p.updateFullscreen=function(f){f&&setTimeout(function(){d.setScrollOffset(0,
g.getScrollY())},50);g[(e.isFullscreen()?"add":"remove")+"Class"](d.template,"pswp--fs")};p.updateIndexIndicator=function(){q.counterEl&&(ra.innerHTML=d.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())};p.onGlobalTap=function(e){e=e||window.event;var h=e.target||e.srcElement;R||(e.detail&&"mouse"===e.detail.pointerType?z(h)?d.close():g.hasClass(h,"pswp__img")&&(1===d.getZoomLevel()&&d.getZoomLevel()<=d.currItem.fitRatio?q.clickToCloseNonZoomable&&d.close():d.toggleDesktopZoom(e.detail.releasePoint)):
(q.tapToToggleControls&&(f?p.hideControls():p.showControls()),q.tapToClose&&(g.hasClass(h,"pswp__img")||z(h))&&d.close()))};p.onMouseOver=function(d){d=d||window.event;X(h,"ui--over-close",z(d.target||d.srcElement))};p.hideControls=function(){g.addClass(h,"pswp__ui--hidden");f=!1};p.showControls=function(){f=!0;qa||p.update();g.removeClass(h,"pswp__ui--hidden")};p.supportsFullscreen=function(){var d=document;return!!(d.exitFullscreen||d.mozCancelFullScreen||d.webkitExitFullscreen||d.msExitFullscreen)};
p.getFullscreenAPI=function(){var e=document.documentElement,f;e.requestFullscreen?f={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:"fullscreenchange"}:e.mozRequestFullScreen?f={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"mozfullscreenchange"}:e.webkitRequestFullscreen?f={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkitfullscreenchange"}:e.msRequestFullscreen&&
(f={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"});f&&(f.enter=function(){Q=q.closeOnScroll;q.closeOnScroll=!1;if("webkitRequestFullscreen"===this.enterK)d.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return d.template[this.enterK]()},f.exit=function(){q.closeOnScroll=Q;return document[this.exitK]()},f.isFullscreen=function(){return document[this.elementK]});return f}}});
(function(d){d.fn.JIGphotoSwipe=function(g){var p=this,qa=d(p[0]).closest(".justified-image-grid"),f=d.extend(!0,{},g),e=function(e){var f=[];p.filter('[rel~="'+e+'"]').each(function(e){e=d(this);var g=e.find("img"),h=e.find("img").attr("alt"),p=e.attr("title"),x=e.attr("data-wh").split("x"),r="jig-overflow"==e.parent().attr("class")?e.closest(".jig-imageContainer").attr("class"):e.attr("class"),r=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(r),g={src:e.attr("href"),w:parseInt(x[0],10),h:parseInt(x[1],
10),msrc:g.attr("src")};null!=r&&(g.contentID=r[0]);h&&(g.title=h);p&&(g.description=p);g.el=e[0];f.push(g)});return f},h=function(e){e.preventDefault();var f=d(e.target).closest(".jig-imageContainer").attr("class"),f=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(f),g=d(e.target).closest("a.jig-link");e=g.attr("rel").split(" ").shift();f=null!=f?f[0]:g.attr("href");B(f,e);return!1},B=function(h,p,B){var n=e(p),x=!1;if(0==n.length)return!1;d.each(n,function(d,e){if("undefined"!==typeof e.contentID&&
e.contentID==h||e.src==h)return g.index=d,!1});g.galleryUID=p;g.getThumbBoundsFn=function(e){if("jig-overflow"==d(n[e].el).parent().attr("class")){var f=n[e].el.getElementsByTagName("img")[0];e=d(window).scrollTop();f=f.getBoundingClientRect();return{x:f.left,y:f.top+e,w:f.width}}return{x:d(window).width()/2,y:d(window).height()/2+d(window).scrollTop(),w:0}};g.addCaptionHTMLFn=function(d,e,f){f=[];"undefined"!==typeof d.title&&f.push(d.title);"undefined"!==typeof d.description&&f.push("<small>"+d.description+
"</small>");if(0==f.length)return e.children[0].innerText="",!1;e.children[0].innerHTML=f.join("<br/>");return!0};g.shareButtons=[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{facebook_url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{title}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{description}}"},{id:"googleplus",label:"Share on Google+",
url:"https://plus.google.com/share?url={{url}}"}];"undefined"!==typeof g.allowDownload&&!0===g.allowDownload&&g.shareButtons.push({id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0});if(B){if(g.showAnimationDuration=0,"undefined"==typeof f.closeOnScroll||1==f.closeOnScroll){g.closeOnScroll=!1;var ra=!0}}else g.showAnimationDuration="undefined"==typeof f.showAnimationDuration?333:f.showAnimationDuration;p=d(n[g.index].el);"jig-overflow"!=p.parent().attr("class")||"0px"===p.find("img").css("margin-left")&&
!p.parent().parent().hasClass("differentAspectRatio")||(x=!0);x||"undefined"!==typeof g.aspectRatioMismatch&&!0===g.aspectRatioMismatch?(g.showAnimationDuration=0,g.showHideOpacity="undefined"==typeof f.showHideOpacity?!0:f.showHideOpacity,g.mainClass="hidePsPlaceholder"):(g.showAnimationDuration="undefined"==typeof f.showAnimationDuration?333:f.showAnimationDuration,g.showHideOpacity="undefined"==typeof f.showHideOpacity?!1:f.showHideOpacity,g.mainClass="undefined"==typeof f.mainClass?"":f.mainClass);
d(".pswp").removeAttr("style");d(".pswp").removeClass(function(d,e){return(e.match(/pswp--\S+theme/g)||[]).join(" ")});"undefined"!==g.customTheme&&d(".pswp").addClass("pswp--"+g.customTheme+"-theme");d.fn.JIGphotoSwipe.gallery=new PhotoSwipe(d(".pswp")[0],PhotoSwipeUI_Default,n,g);d.fn.JIGphotoSwipe.gallery.init();1==ra&&setTimeout(function(){d.fn.JIGphotoSwipe.gallery.options.closeOnScroll=!0},2E3)};(function(){if(0===d(".pswp").length){var e="undefined"!==typeof g.captionAlign?" pswp__ca_"+g.captionAlign:
" pswp__ca_center";d("body").append('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden'+e+'"><div class="pswp__top-bar"><div class="pswp__counter"></div><span class="pswp__button pswp__button--close" title="Close (Esc)"></span><span class="pswp__button pswp__button--share" title="Share"></span><span class="pswp__button pswp__button--fs" title="Toggle fullscreen"></span><span class="pswp__button pswp__button--zoom" title="Zoom in/out"></span><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><span class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></span><span class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></span><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>')}qa.off("click.photoswipe").on("click.photoswipe",
"a.jig-link",h);var f="",e=location.hash,e=e.replace("%5B","["),e=e.replace("%5D","]"),e=e.replace(/([^|])(poster=|videoplayer)/mg,"$1|$2");var p=e.match(/^#!([\w\-[\]]+?\/(?:(\d+)(?=\/))?(https?:\/\/[^&]*)?([A-Z]{2}\/[_\w]*)?)/im);null!==p&&(f=p[1],f=f.substring(f.indexOf("/")+1,f.length),/^([A-Z]{2}\/[_\w]*)$/im.test(f)&&(f=f.replace("/","-")));f="jig-contentID-"+f;(e=e.substring(2,e.indexOf("/")))&&f&&B(f,e,!0)})()}})(jQuery);